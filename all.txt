E:\Download\Neww Web\public\css\film-details.css:
:root {
    /* Biến màu chung */
    --primary-color: #bbff00; /* Màu chính */
    --secondary-color: #640055; /* Màu phụ */
    --background-color: #181818; /* Màu nền tối */
    --text-color: #000000; /* Màu chữ chính */
    --secondary-text-color: #ffffff; /* Màu chữ phụ */
    --card-bg-color: #202020; /* Nền thẻ phim tối */
    --card-bg-light: #ff0000; /* Nền thẻ phim sáng */
    --navbar-bg-color: #141414; /* Nền navbar */
    --card-border-color-dark: #020202; /* Viền thẻ phim tối */
    --card-border-color-light: #ff0000; /* Viền thẻ phim sáng */
    --h1-dark-color: #ff0000;  /* Màu tiêu đề h1 chế độ tối */
    --h1-light-color: #000000; /* Màu tiêu đề h1 chế độ sáng */
}

/* Chế độ sáng */
body.light-theme {
    --background-color: #ffffff; /* Nền sáng */
    --text-color: #000000; /* Màu chữ sáng */
    --secondary-text-color: #000000;
    --card-bg-color: #000000; /* Nền thẻ phim sáng */
    --navbar-bg-color: #ff0000;
    --card-border-color-light: #000000;
    --h1-dark-color: #000000;
    --primary-color: #ff0000;
    --secondary-color: #004a22;
}

.light-theme {
    --bg-color: #ffffff;
    --text-color: #ffffff;
    --card-bg: #f5f5f5;
    --border-color: #ccc;
}

/* Cấu hình chung */
body, .content-wrapper {
    font-family: 'Roboto', sans-serif;
    background-color: var(--background-color);
    color: var(--text-color);
    margin: 0;
    padding: 0;
    transition: background-color 0.3s, color 0.3s;
}

#toggle-theme-btn {
    border: 1px solid var(--primary-color);
}

/* Nút chuyển đổi chế độ */
.theme-toggle {
    position: fixed;
    top: 10px;
    right: 10px;
    background: var(--card-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    padding: 8px 16px;
    cursor: pointer;
    border-radius: 4px;
    transition: background 0.3s, color 0.3s;
}
.theme-toggle:hover {
    background: var(--border-color);
}

/* Navbar */
.navbar {
    background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
    padding: 10px 20px;
    box-shadow: 0 4px 8px var(--shadow-dark);
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.navbar-toggler {
    border: 1px solid var(--border-color);
}

.navbar-light {
    background: var(--background-light);
    box-shadow: 0 4px 8px var(--shadow-light);
}

.navbar-nav {
    display: flex;
    align-items: center;
    gap: 15px;
}
.navbar a {
    color: var(--text-color);
    font-weight: 600;
    transition: color 0.3s;
}
.navbar-light a {
    color: var(--text-color);
}
.navbar a:hover {
    color: var(--secondary-color);
}

/* Thanh tìm kiếm */
.form-control {
    width: 250px;
    border-radius: 5px;
}
.form-control:focus {
    box-shadow: none;
    border-color: #ffcc00;
}

/* Nút bấm */
button {
    border-radius: 5px;
    display: flex;
    flex-direction: column;
}

/* Chi tiết phim */
.film-details {
    max-width: 1250px; /* Giới hạn chiều rộng ngang container */
    margin: 20px auto;
    padding: 20px;
    background: var(--background-color); /* Nền theo chế độ hiện tại */
    border-radius: 10px;
    overflow: hidden;
    transition: background-color 0.3s, border-color 0.3s;
}

/* Nội dung chi tiết phim */
#film-details-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px; /* Khoảng cách giữa ảnh và thông tin */
}

.film-image {
    flex: 1 1 300px; /* Đặt kích thước tối thiểu cho ảnh */
    max-width: 300px; /* Đảm bảo không quá lớn */
    max-height: 450px;
    border-radius: 8px;
    margin-top: 1cm;
    transition: transform 0.3s;
}

.film-image:hover {
    transform: scale(1.05); /* Phóng to ảnh khi hover */
}

.film-info {
    flex: 2 1 500px; /* Chiếm nhiều không gian hơn cho thông tin */
    display: flex;
    flex-direction: column;
    justify-content: start;
    max-width: 100%;
    color: var(--secondary-text-color);
}

h1 {
    order: -1; /* Đảm bảo tiêu đề đứng trên */
    margin-bottom: 10px;
    font-size: 2.5rem;
    color: var(--h1-dark-color);  /* Màu chữ h1 tùy thuộc vào chế độ */
}

.original-name {
    font-size: 5mm; /* Kích thước nhỏ hơn */
    color: var(--h1-dark-color); /* Có thể đổi màu nếu cần */
    display: inline-block;
}

/* Khi chế độ sáng được kích hoạt */
body.light-theme h1 {
    color: var(--h1-light-color);  /* Màu chữ h1 trong chế độ sáng */
}

h3 {
    margin-top: 20px;
    margin-bottom: 10px;
    font-size: 1.2rem;
    color: var(--text-color);
}

.episode-list {
    display: flex;
    flex-wrap: wrap; /* Cho phép các nút xuống dòng nếu vượt quá chiều ngang */
    gap: 10px; /* Khoảng cách giữa các nút */
    list-style: none;
    padding: 0;
    justify-content: flex-start; /* Căn các nút sang trái */
    max-width: 100%;
}

.episode-list li {
    flex: 0 0 auto; /* Đảm bảo các nút có kích thước cố định */
    margin: 5px;
}

.episode-list li a {
    display: inline-block;
    background-color: var(--card-bg-color); /* Nền thẻ phim */
    color: var(--primary-color); /* Màu chữ sáng/tối */
    text-decoration: none;
    font-size: 1rem;
    padding: 8px 16px; /* Kích thước nút */
    border: 2px solid var(--primary-color); /* Viền thẻ phim */
    border-radius: 4px; /* Bo tròn nút */
    transition: all 0.3s ease; /* Hiệu ứng chuyển đổi mượt mà */
    text-align: center;
    min-width: 50px; /* Đảm bảo nút có kích thước tối thiểu */
}

/* Khi hover vào các nút tập phim */
.episode-list li a:hover {
    background-color: var(--primary-color); /* Đổi màu nền khi hover */
    color: var(--card-bg-color); /* Đổi màu chữ khi hover */
    border-color: var(--card-bg-color); /* Đổi màu viền khi hover */
    transform: translateY(-2px); /* Hiệu ứng đẩy nút lên */
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2); /* Hiệu ứng đổ bóng */
}

/* Thông tin phim */
.movie-info {
    padding: 15px;
    text-align: center;
    color: var(--text-color);
    background-color: var(--card-bg-color); /* Nền theo chế độ sáng/tối */
    transition: background-color 0.3s ease;
}

.movie-info h3 {
    font-size: 1.4rem;
    margin: 12px 0;
    color: var(--text-color);
    font-weight: 600;
    line-height: 1.4;
}

.movie-info p {
    color: var(--secondary-text-color);
    font-size: 0.95rem;
    line-height: 1.5;
    margin-bottom: 10px;
}

/* Khi chế độ sáng được kích hoạt */
body.light-theme .movie-info {
    background-color: var(--card-bg-light); /* Nền sáng */
}


.episode-list {
    display: flex;
    flex-wrap: wrap; /* Cho phép các nút xuống dòng nếu vượt quá chiều ngang */
    gap: 10px; /* Khoảng cách giữa các nút */
    list-style: none;
    padding: 0;
    justify-content: flex-start; /* Căn các nút sang trái */
    max-width: 100%;
}

.episode-list li {
    flex: 0 0 auto; /* Đảm bảo các nút có kích thước cố định */
    margin: 5px;
}

.episode-list li a {
    display: inline-block;
    background-color: #ffffff; /* Màu nền tối */
    color: #000000; /* Màu chữ nổi bật */
    text-decoration: none;
    font-size: 1rem;
    padding: 8px 16px; /* Kích thước nút */
    border: 2px solid #000000; /* Viền nút */
    border-radius: 4px; /* Bo tròn nút */
    transition: all 0.3s ease; /* Hiệu ứng chuyển đổi mượt mà */
    text-align: center;
    min-width: 50px; /* Đảm bảo nút có kích thước tối thiểu */
}

.episode-list li a:hover {
    background-color: #ff0000; /* Đổi màu nền khi hover */
    color: #1e1e1e; /* Đổi màu chữ khi hover */
    border-color: #1e1e1e; /* Đổi màu viền khi hover */
    transform: translateY(-2px); /* Hiệu ứng đẩy nút lên */
    box-shadow: 0px 4px 8px rgba(0, 188, 212, 0.4); /* Hiệu ứng đổ bóng */
}

footer {
    text-align: center;
    padding: 20px;
    background-color: var(--navbar-bg-color);
    color: var(--text-color);
    transition: background-color 0.3s;
}

footer p {
    margin: 5px 0;
    font-size: 0.9rem;
}

/* Style cho container chứa danh sách phim liên quan */
#related-films {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 8px;
    margin-top: 20px;
}

/* Style cho từng thẻ phim (card) */
.related-film-card {
    background-color: var(--background-color); /* Nền thẻ phim */
    border: 2px solid var(--card-border-color-dark);  /* Thêm viền cho thẻ phim */
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease, border 0.3s ease;
    width: 300px;
    height: 480px;
    transform: scale(0.968);
}

/* Khi di chuột qua thẻ phim */
.related-film-card:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    transform: scale(0.988);
}

/* Style cho hình ảnh phim */
.film-related-image {
    width: 300px;
    height: 404px;  /* Cố định chiều cao để ảnh có kích thước đồng đều */ /* Cắt bớt ảnh nếu cần thiết để đầy đủ không gian */
    object-fit: cover;
}

/* Style cho tên phim */
.related-film-card h4 {
    font-size: medium;
    color: var(--secondary-text-color);  /* Màu chữ sáng/tối */
    margin: 10px;
    padding: 0;
    font-weight: bold;
    font-size: medium;
    object-fit: cover;
    text-align: center;
}

/* Style cho liên kết phim (link) */
.related-film-card a {
    text-decoration: none;
    color: inherit;
}

/* Style cho văn bản khi không có phim liên quan */
#related-films p {
    text-align: center;
    font-size: 16px;
    color: #888;
    margin-top: 20px;
}

/* Ẩn tất cả các tập phim không hiển thị */
.episode-list li:nth-child(n+31) {
    display: none;
}

/* Hiển thị nút "Xem thêm" nếu có nhiều hơn 30 tập */
.show-more-btn {
    background-color: #007bff;
    color: white;
    border: 2px solid var(--primary-color); /* Viền thẻ phim */
    cursor: pointer;
    width: 2.5cm;
    border-radius: 4px;
    height: 50px;
}

.show-more-btn:hover {
    background-color: #0056b3;
}

.film-info p a {
    display: inline-block;
    color: #00bcd4;
    text-decoration: none;
    font-weight: bold;
    padding: 4px 8px;
    border-radius: 5px;
    transition: all 0.3s ease-in-out;
}

.film-info p a {
    display: inline-block;
    color: var(--secondary-text-color);
    text-decoration: none;
    font-weight: bold;
    padding: 4px 8px;
    background: #1564b7;
    border-radius: 5px;
    transition: all 0.3s ease-in-out;
}
.film-rating {
    position: absolute;
    top: 8px;
    left: 8px;
    background: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 4px 8px;
    font-size: 14px;
    font-weight: bold;
    border-radius: 4px;
}

.film-rating h4 {
    color: #fff;
}
.dropdown-menu button {
    border: none;
    background-color: white;
    color: var(--text-color);
    font-weight: 600;
    transition: color 0.3s;
    padding: 5px 15px;
}

.dropdown-menu button:hover {
    color: var(--secondary-color);
}

.trending-link {
    border: none;
    background-color: white;
    color: var(--text-color);
    font-weight: 600;
    transition: color 0.3s;
    padding: 5px 15px;
    text-decoration: none;
}

.trending-link:hover {
    color: var(--secondary-color);
}

E:\Download\Neww Web\public\css\styles.css:
:root {
    /* Biến màu chung */
    --primary-color: #bbff00; /* Màu chính */
    --secondary-color: #640055; /* Màu phụ */
    --background-color: #181818; /* Màu nền tối */
    --text-color: #000000; /* Màu chữ chính */
    --secondary-text-color: #ffffff; /* Màu chữ phụ */
    --card-bg-color: #202020; /* Nền thẻ phim tối */
    --card-bg-light: #ff0000; /* Nền thẻ phim sáng */
    --navbar-bg-color: #141414; /* Nền navbar */
    --card-border-color-dark: #020202; /* Viền thẻ phim tối */
    --card-border-color-light: #ff0000; /* Viền thẻ phim sáng */
    --h1-dark-color: #ff0000;  /* Màu tiêu đề h1 chế độ tối */
    --h1-light-color: #000000; /* Màu tiêu đề h1 chế độ sáng */
}

/* Chế độ sáng */
body.light-theme {
    --background-color: #ffffff; /* Nền sáng */
    --text-color: #000000; /* Màu chữ sáng */
    --secondary-text-color: #000000;
    --card-bg-color: #000000; /* Nền thẻ phim sáng */
    --navbar-bg-color: #ff0000;
    --card-border-color-light: #000000;
    --h1-dark-color: #000000;
    --primary-color: #ff0000;
    --secondary-color: #004a22;
}

.light-theme {
    --bg-color: #ffffff;
    --text-color: #ffffff;
    --card-bg: #f5f5f5;
    --border-color: #ccc;
}

/* Cấu hình chung */
body, .content-wrapper {
    font-family: 'Roboto', sans-serif;
    background-color: var(--background-color);
    color: var(--text-color);
    margin: 0;
    padding: 0;
    transition: background-color 0.3s, color 0.3s;
}

.not-found {
    color: var(--secondary-text-color);
    font-size: 2.5rem;
    font-weight: bold;
    margin: 20px 0;
}

#toggle-theme-btn {
    border: 1px solid var(--primary-color);
}

.text-center.mb-4 {
    color: var(--secondary-text-color); /* Đổi màu chữ */
    font-size: 24px; /* Tăng kích thước chữ */
    font-weight: bold; /* Làm đậm chữ */
}

/* Nút chuyển đổi chế độ */
.theme-toggle {
    position: fixed;
    top: 10px;
    right: 10px;
    background: var(--card-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    padding: 8px 16px;
    cursor: pointer;
    border-radius: 4px;
    transition: background 0.3s, color 0.3s;
}
.theme-toggle:hover {
    background: var(--border-color);
}

/* Navbar */
.navbar {
    background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
    padding: 10px 20px;
    box-shadow: 0 4px 8px var(--shadow-dark);
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.navbar-toggler {
    border: 1px solid var(--border-color);
}

.navbar-light {
    background: var(--background-light);
    box-shadow: 0 4px 8px var(--shadow-light);
}

.navbar-nav {
    display: flex;
    align-items: center;
    gap: 15px;
}
.navbar a {
    color: var(--text-color);
    font-weight: 600;
    transition: color 0.3s;
}
.navbar-light a {
    color: var(--text-color);
}
.navbar a:hover {
    color: var(--secondary-color);
}

/* Thanh tìm kiếm */
.form-control {
    width: 250px;
    border-radius: 5px;
}
.form-control:focus {
    box-shadow: none;
    border-color: #ffcc00;
}

/* Nút bấm */
button {
    border-radius: 5px;
    display: flex;
    flex-direction: column;
}

/* Phân trang */
#pagination, #pagination-bottom {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 20px;
}
#pagination input, #pagination-bottom input {
    width: 60px;
    text-align: center;
    margin: 0 5px;
}
#pagination button, #pagination-bottom button {
    padding: 5px 15px;
    font-size: 1rem;
}
#pagination button:hover, #pagination-bottom button:hover {
    background-color: #ffcc00;
    color: #fff;
}
#pagination button:disabled, #pagination-bottom button:disabled {
    background-color: #ccc;
    color: #fff;
    cursor: not-allowed;
}

/* Nút "Quay về đầu trang" */
#back-to-top {
    z-index: 100;
    bottom: 10px;
    right: 10px;
    background-color: rgb(0, 143, 190);
}

/* Thẻ phim */
#film-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 15px;
    margin-top: 20px;
}

#trending-films {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 15px;
    margin-top: 20px;
}
#film-search-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 15px;
    margin-top: 20px;
}

#anime-genres {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 15px;
    margin-top: 20px;
}

#trending-animes {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 15px;
    margin-top: 20px;
}

.details-link {
    text-decoration: none; /* Loại bỏ gạch dưới */
    color: var(--secondary-text-color);
    transition: background-color 0.3s ease;
}

.film-card {
    background-color: var(--card-bg);
    border: 1px solid;
    padding: 12px;
    border-radius: 8px;
    transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, background-color 0.3s ease-in-out, border-color 0.3s ease-in-out;
    overflow: hidden;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    font-size: 4mm;
}
.film-card:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}
.film-card h2 {
    font-size: 5.5mm;
    font-weight: bold;
    padding-top: 2mm;
    padding-bottom: 1.5mm;
}
.film-card img {
    width: 100%;
    height: 400px;
    object-fit: cover;
}

.film-card .card-body {
    padding: 10px;
}
.film-card .card-body h5 {
    font-size: 1.1rem;
    margin: 10px 0;
    color: #343a40;
}
.film-card .card-body p {
    color: #777;
    font-size: 0.9rem;
}

/* Footer */
footer {
    background-color: #000000;
    color: #fff;
    padding: 20px 0;
    text-align: center;
}
footer p {
    font-size: 0.9rem;
    margin: 0;
}
footer a {
    color: #ffcc00;
    text-decoration: none;
}
footer a:hover {
    text-decoration: underline;
}

/* Responsive */
@media (max-width: 821px) {
    .navbar-nav {
        text-align: center;
    }
    #pagination, #pagination-bottom {
        flex-direction: column;
    }
    .form-control {
        width: 200px;
    }
    #film-container {
        grid-template-columns: 1fr 1fr;
    }
    .navbar-toggler {
        background-color: #343a40;
    }
}
@media (max-width: 576px) {
    #film-container {
        grid-template-columns: 1fr;
    }
    .form-control {
        width: 150px;
    }
    #pagination input {
        width: 40px;
    }
}

.search-nguonc-button {
    display: block;
    width: 100%;
    margin-top: 10px;
    padding: 10px;
    background: linear-gradient(135deg, #ff5722, #ff9800);
    color: white;
    font-size: 16px;
    font-weight: bold;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    text-align: center;
    transition: background 0.3s ease, transform 0.2s ease-in-out;
}

.search-nguonc-button:hover {
    background: linear-gradient(135deg, #e64a19, #f57c00);
    transform: scale(1.05);
}

.search-nguonc-button:active {
    transform: scale(0.95);
}

.film-card {
    position: relative;
    display: inline-block;
    overflow: visible;
}

.film-overview {
    position: absolute;
    top: 0;
    left: 0;
    width: 300px; /* Điều chỉnh chiều rộng phù hợp */
    background: rgba(0, 0, 0, 0.9);
    color: white;
    padding: 15px;
    font-size: 16px;
    opacity: 0;
    transform: translateY(10px); /* Bắt đầu thấp hơn một chút */
    transition: opacity 0.4s ease-out, transform 0.4s ease-out;
    white-space: normal;
    overflow: visible;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    z-index: 10;
    display: block;
    visibility: hidden;
}

.film-card:hover .film-overview {
    opacity: 1;
    transform: translateY(0); /* Trở về vị trí bình thường */
    visibility: visible;
}

/* Làm mờ ảnh nhẹ khi hover */
.film-card:hover img {
    opacity: 0.3;
    transition: opacity 0.4s ease-out;
}

.dropdown-menu button {
    border: none;
    background-color: white;
    color: var(--text-color);
    font-weight: 600;
    transition: color 0.3s;
    padding: 5px 15px;
}

.dropdown-menu button:hover {
    color: var(--secondary-color);
}

.trending-link {
    border: none;
    background-color: white;
    color: var(--text-color);
    font-weight: 600;
    transition: color 0.3s;
    padding: 5px 15px;
    text-decoration: none;
}

.trending-link:hover {
    color: var(--secondary-color);
}

#sort-options {
    display: flex;
    flex-wrap: nowrap; /* Không cho phép wrap, giữ tất cả trong một hàng */
    align-items: center;
    justify-content: center;
    gap: 15px; /* Khoảng cách giữa các phần tử */
    padding: 20px;
    box-sizing: border-box;
}

h1.mb-0 {
    font-size: 24px;
    font-weight: 600;
    margin: 0;
    color: var(--secondary-text-color);
    margin-right: 20px; /* Khoảng cách giữa tiêu đề và các nút */
}

.sort-buttons {
    display: flex;
    gap: 15px;
    flex-wrap: nowrap; /* Các nút sắp xếp vẫn nằm trên cùng một hàng */
    justify-content: flex-start;
}

.sort-button {
    padding: 12px 25px;
    font-size: 16px;
    font-weight: 500;
    border: 2px solid #007BFF;
    background-color: #fff;
    color: #007BFF;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s;
}

.sort-button:hover {
    background-color: #007BFF;
    color: #fff;
}

.sort-button:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.5);
}

E:\Download\Neww Web\public\css\video.css:
:root {
    /* Biến màu chung */
    --primary-color: #bbff00; /* Màu chính */
    --secondary-color: #640055; /* Màu phụ */
    --background-color: #181818; /* Màu nền tối */
    --text-color: #000000; /* Màu chữ chính */
    --secondary-text-color: #ffffff; /* Màu chữ phụ */
    --card-bg-color: #202020; /* Nền thẻ phim tối */
    --card-bg-light: #ff0000; /* Nền thẻ phim sáng */
    --navbar-bg-color: #141414; /* Nền navbar */
    --card-border-color-dark: #020202; /* Viền thẻ phim tối */
    --card-border-color-light: #ff0000; /* Viền thẻ phim sáng */
    --h1-dark-color: #ff0000;  /* Màu tiêu đề h1 chế độ tối */
    --h1-light-color: #000000; /* Màu tiêu đề h1 chế độ sáng */
}

/* Chế độ sáng */
body.light-theme {
    --background-color: #ffffff; /* Nền sáng */
    --text-color: #000000; /* Màu chữ sáng */
    --secondary-text-color: #000000;
    --card-bg-color: #000000; /* Nền thẻ phim sáng */
    --navbar-bg-color: #ff0000;
    --card-border-color-light: #000000;
    --h1-dark-color: #000000;
    --primary-color: #ff0000;
    --secondary-color: #004a22;
}

.light-theme {
    --bg-color: #ffffff;
    --text-color: #ffffff;
    --card-bg: #f5f5f5;
    --border-color: #ccc;
}

#video-player-container{
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding-top: 1cm;
    padding-bottom: 1cm;
}

/* Video Player Container */
.VideoPlayer {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 80%;
    max-width: 1200px;
    border-radius: 8px;
    overflow: hidden;
    position: relative;
    padding: 15px;
    color: var(--text-color); /* Ensure text color is dynamic based on theme */
}

/* Additional styles for light theme */
body.light-theme .VideoPlayer {
    background-color: white; /* Use light theme primary color */
    color: var(--text-color); /* Light theme text color */
}

.VideoPlayer h1 {
    margin-bottom: 10px;
    text-align: center;
    color: var(--secondary-text-color);
    font-size: large;
}

.VideoPlayer h5 {
    margin-bottom: 10px;
    text-align: center;
    color: var(--secondary-text-color);
    font-size: 35px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    font-family: 'Poppins', sans-serif;
}

.Video {
    position: relative;
    width: 100%;
    height: 0;
    padding-bottom: 56.25%; /* Tỷ lệ 16:9 */
    background-color: black;
    border: 2px solid #333;
}

.Video iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
}
.navepi.tagcloud {
    margin-top: 20px;
    font-size: 14px;
    color: #cccccc;
    text-align: center;
}

.navepi.tagcloud span {
    margin: 0 5px;
    cursor: pointer;
    color: #ffcc00;
}

.navepi.tagcloud span:hover {
    text-decoration: underline;
}

.episode-list {
    display: flex;
    flex-wrap: wrap; /* Cho phép các nút xuống dòng nếu vượt quá chiều ngang */
    gap: 10px; /* Khoảng cách giữa các nút */
    list-style: none;
    padding: 0;
    justify-content: flex-start; /* Căn các nút sang trái */;
    text-align: center;
}

.episode-list li {
    flex: 0 0 auto; /* Đảm bảo các nút có kích thước cố định */
    margin: 5px;
}

.episode-list-container h3{
    text-align: center;
    color: var(--secondary-text-color);
}

h1{
    text-align: center;
    color: var(--secondary-text-color);
}

.episode-list li a {
    display: inline-block;
    background-color: var(); /* Nền thẻ phim */
    color: var(--secondary-text-color); /* Màu chữ sáng/tối */
    text-decoration: none;
    font-size: 1rem;
    padding: 8px 16px; /* Kích thước nút */
    border: 2px solid var(--secondary-text-color); /* Viền thẻ phim */
    border-radius: 4px; /* Bo tròn nút */
    transition: all 0.3s ease; /* Hiệu ứng chuyển đổi mượt mà */
    text-align: center;
    min-width: 50px; /* Đảm bảo nút có kích thước tối thiểu */
}

/* Khi hover vào các nút tập phim */
.episode-list li a:hover {
    background-color: red; /* Đổi màu nền khi hover */
    color: var(--card-bg-color); /* Đổi màu chữ khi hover */
    border-color: var(--card-bg-color); /* Đổi màu viền khi hover */
    transform: translateY(-2px); /* Hiệu ứng đẩy nút lên */
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2); /* Hiệu ứng đổ bóng */
}

/* Nút bấm */
button {
    border-radius: 5px;
    display: flex;
    flex-direction: column;
}

.dropdown-menu button {
    border: none;
    background-color: white;
    color: var(--text-color);
    font-weight: 600;
    transition: color 0.3s;
    padding: 5px 15px;
}

.dropdown-menu button:hover {
    color: var(--secondary-color);
}

.episode-navigation {
    display: flex;
    justify-content: space-between;
    margin: 10px 0;
    gap: 20px;
}

.prev-episode, .next-episode {
    padding: 8px 12px;
    background-color: #ff5722;
    color: white;
    text-decoration: none;
    border-radius: 5px;
}

.prev-episode:hover, .next-episode:hover {
    background-color: #e64a19;
}

.episode-list li.current-episode {
    background-color: #ff9800;
    font-weight: bold;
}

.episode-list li.current-episode a {
    color: black;
}
.episode-list li.current-episode {
    background-color: #ff9800;
    font-weight: bold;
    color: black;
    cursor: default; /* Không cho click */
    pointer-events: none; /* Vô hiệu hóa */
}
.episode-list li a.disabled-episode {
    background-color: #ff9800 !important;
    font-weight: bold;
    color: black !important;
    pointer-events: none; /* Vô hiệu hóa */
    opacity: 0.6; /* Làm mờ nhẹ để phân biệt */
    cursor: default;
}
.trending-link {
    border: none;
    background-color: white;
    color: var(--text-color);
    font-weight: 600;
    transition: color 0.3s;
    padding: 5px 15px;
    text-decoration: none;
}

.trending-link:hover {
    color: var(--secondary-color);
}

E:\Download\Neww Web\public\js\anime-genres.js:
const FilmApp = {
    currentPage: 1,
    anilistApiUrl: "https://graphql.anilist.co",
    currentSort: "TRENDING_DESC",
    genres: null, // Cache danh sách thể loại

    statusTranslations: new Map([
        ["FINISHED", "Hoàn Thành"],
        ["RELEASING", "Đang Phát Sóng"],
        ["NOT_YET_RELEASED", "Chưa Phát Sóng"],
        ["CANCELLED", "Đã Hủy"],
        ["HIATUS", "Tạm Dừng"],
        ["UPCOMING", "Sắp Ra Mắt"]
    ]),

    debounce(func, wait) {
        let timeout;
        return function (...args) {
            if (timeout) cancelAnimationFrame(timeout);
            timeout = requestAnimationFrame(() => func.apply(this, args));
        };
    },

    async fetchAnimeByGenre(genre, page = this.currentPage, sort = this.currentSort) {
        const query = `
            query ($genre: [String], $page: Int, $sort: [MediaSort]) {
                Page(page: $page, perPage: 12) {
                    media(sort: $sort, type: ANIME, genre_in: $genre) {
                        id
                        title { romaji english }
                        genres
                        coverImage { large }
                        averageScore
                        episodes
                        description
                        status
                    }
                }
            }
        `;

        try {
            const response = await fetch(this.anilistApiUrl, {
                method: "POST",
                headers: { "Content-Type": "application/json", "Accept": "application/json" },
                body: JSON.stringify({ query, variables: { genre: [genre], page, sort: [sort] } })
            });

            const { data } = await response.json();
            this.totalFilmCount = data?.Page?.media.length || 0; // Cập nhật tổng số lượng phim
            return data?.Page?.media || [];
        } catch (error) {
            console.error("Lỗi khi lấy danh sách anime:", error);
            return [];
        }
    },

    async renderAnimes(animes) {
        const container = document.getElementById("anime-genres");
        if (!container) return console.error("Không tìm thấy phần tử 'anime-genres'");

        container.innerHTML = '<h1 class="not-found">Đang tải...</h1>';

        if (animes.length === 0) {
            container.innerHTML = '<h1 class="not-found">Không tìm thấy anime nào.</h1>';
            return;
        }

        const fragment = document.createDocumentFragment();
        animes.forEach(anime => {
            const card = document.createElement("li");
            card.classList.add("film-card");
            card.innerHTML = this.createAnimeCard(anime);

            // Gán sự kiện hover để hiển thị mô tả
            const overview = card.querySelector(".film-overview");
            card.addEventListener("mouseenter", () => overview.classList.remove("hidden"));
            card.addEventListener("mouseleave", () => overview.classList.add("hidden"));

            // Áp dụng giới hạn cho mô tả
            overview.style.display = "-webkit-box";
            overview.style.webkitBoxOrient = "vertical";
            overview.style.webkitLineClamp = "19";  // Giới hạn mô tả ở 5 dòng
            overview.style.overflow = "hidden";

            fragment.appendChild(card);
        });

        container.innerHTML = "";
        container.appendChild(fragment);

        document.querySelectorAll(".search-nguonc-button").forEach(button =>
            button.addEventListener("click", () => this.searchOnNguonc(button.dataset.title))
        );

        this.updatePaginationControls(animes.length);
    },

    createAnimeCard(anime) {
        const status = this.statusTranslations.get(anime.status) || anime.status;
        return `
            <a class="details-link">
                <img src="${anime.coverImage.large}" alt="${anime.title.english}" class="film-image" loading="lazy">
                <h2>${anime.title?.english || anime.title?.romaji}</h2>
                <p><strong>Tổng số tập:</strong> ${anime.episodes || 'Chưa rõ'}</p>
                <p><strong>Điểm đánh giá:</strong> ⭐ ${anime.averageScore || 'Chưa đánh giá'}/100</p>
                <p><strong>Trạng thái:</strong> ${status}</p>
                <p><strong>Thể loại:</strong> ${anime.genres.join(', ') || 'Chưa có'}</p>
                <div class="film-overview hidden">${anime.description || 'Không có mô tả.'}</div>
            </a>
            <button class="search-nguonc-button" data-title="${anime.title?.english, anime.title?.romaji}">Tìm kiếm</button>
        `;
    },

    updatePaginationControls(filmCount) {
        const previousButtons = document.querySelectorAll("#previous, #previous-bottom");
        const nextButtons = document.querySelectorAll("#next, #next-bottom");
        const pageInputs = document.querySelectorAll("#pageInput, #pageInput-bottom");

        previousButtons.forEach(btn => btn.disabled = this.currentPage === 1);
        nextButtons.forEach(btn => btn.disabled = filmCount < 12);
        pageInputs.forEach(input => input.value = this.currentPage);
    },

    handlePagination(action) {
        if (action === 'next') {
            this.currentPage++;
        } else if (action === 'prev' && this.currentPage > 1) {
            this.currentPage--;
        } else if (action === 'goTo') {
            const targetPage = parseInt(document.querySelector("#pageInput").value);
            if (!isNaN(targetPage) && targetPage >= 1) {
                this.currentPage = targetPage;
            } else {
                alert('⚠️ Vui lòng nhập số trang hợp lệ!');
                return;
            }
        }
        this.loadAnimeByGenre();
    },

    loadAnimeByGenre() {
        const genre = this.getQueryParam("genre");
        if (!genre) return;
        document.title = `${genre}`;
        document.getElementById("anime-genres").innerHTML = '<h1 class="not-found">Đang tải...</h1>';

        this.fetchAnimeByGenre(genre, this.currentPage)
            .then(animes => {
                this.renderAnimes(animes);
                this.updatePaginationControls(animes.length);
            });
    },

    async searchOnNguonc(title) {
        if (!title) return alert('Không tìm thấy tên anime để tìm kiếm.');

        try {
            const response = await fetch(`https://phim.nguonc.com/api/films/search?keyword=${encodeURIComponent(title)}`);
            const data = await response.json();
            if (data?.items?.length) {
                window.location.href = `search.html?keyword=${encodeURIComponent(title)}`;
            } else {
                alert('Anime chưa có trên trang, thử tìm với tên khác.');
            }
        } catch {
            alert('Lỗi kết nối, vui lòng thử lại.');
        }
    },

    getQueryParam(name) {
        return new URLSearchParams(window.location.search).get(name);
    },

    async loadGenres() {
        if (this.genres) return;

        try {
            const response = await fetch(this.anilistApiUrl, {
                method: "POST",
                headers: { "Content-Type": "application/json", "Accept": "application/json" },
                body: JSON.stringify({ query: "query { GenreCollection }" })
            });

            const { data } = await response.json();
            this.genres = (data?.GenreCollection || []).filter(genre => genre !== "Hentai");

            const genreDropdownMenu = document.getElementById("genre-dropdown-menu");
            if (genreDropdownMenu) {
                genreDropdownMenu.innerHTML = this.genres.map(genre =>
                    `<button onclick="redirectToGenre('${genre}')">${genre}</button>`
                ).join("");
            }
        } catch (error) {
            console.error("Lỗi khi lấy danh sách thể loại:", error);
        }
    },

    init() {
        this.loadAnimeByGenre();
        this.loadGenres();

        this.updateSort = this.debounce(function (sortType) {
            this.currentSort = sortType;
            this.currentPage = 1;
            this.loadAnimeByGenre();
        }, 300);

        document.addEventListener("click", (event) => {
            if (event.target.matches(".sort-button")) {
                this.updateSort(event.target.dataset.sort);
            }
        });

        // Initialize pagination buttons with the new functions
        document.getElementById("previous").addEventListener("click", () => this.handlePagination('prev'));
        document.getElementById("next").addEventListener("click", () => this.handlePagination('next'));
        document.getElementById("goToPage").addEventListener("click", () => this.handlePagination('goTo'));
        document.getElementById("previous-bottom").addEventListener("click", () => this.handlePagination('prev'));
        document.getElementById("next-bottom").addEventListener("click", () => this.handlePagination('next'));
        document.getElementById("goToPage-bottom").addEventListener("click", () => this.handlePagination('goTo'));
    }
};

function redirectToGenre(genre) {
    window.location.href = `anime-genres.html?genre=${encodeURIComponent(genre)}`;
}


document.addEventListener("DOMContentLoaded", () => FilmApp.init());

E:\Download\Neww Web\public\js\anime-trending.js:
document.addEventListener('DOMContentLoaded', async () => {
    let currentPage = 1;
    const elements = {
        filmContainer: document.getElementById('trending-animes'),
        prevBtns: document.querySelectorAll('#previous, #previous-bottom'),
        nextBtns: document.querySelectorAll('#next, #next-bottom'),
        goToPageBtns: document.querySelectorAll('#goToPage, #goToPage-bottom'),
        pageInputs: document.querySelectorAll('#pageInput, #pageInput-bottom')
    };

    const fetchAniListTrending = async (page = 1) => {
        const query = `
            query ($page: Int, $perPage: Int) {
                Page(page: $page, perPage: $perPage) {
                    media(sort: TRENDING_DESC, type: ANIME) {
                        id
                        title { romaji english native }
                        coverImage { large }
                        episodes
                        averageScore
                        description
                    }
                }
            }
        `;
        const variables = { page, perPage: 12 };

        try {
            const response = await fetch("https://graphql.anilist.co", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ query, variables })
            });
            const data = await response.json();
            return data?.data?.Page?.media || [];
        } catch (error) {
            console.error("Lỗi khi lấy danh sách trending từ AniList API:", error);
            return [];
        }
    };

    const searchOnNguonc = async (englishName, romajiName) => {
        const keyword = englishName || romajiName;
        if (!keyword) return alert('Không tìm thấy tên anime để tìm kiếm.');

        try {
            const response = await fetch(`https://phim.nguonc.com/api/films/search?keyword=${encodeURIComponent(keyword)}`);
            const data = await response.json();

            if (data?.items?.length) {
                window.location.href = `search.html?keyword=${encodeURIComponent(keyword)}`;
            } else if (englishName && romajiName) {
                console.log(`Không tìm thấy "${englishName}", thử lại với "${romajiName}"`);
                searchOnNguonc(romajiName, '');
            } else {
                alert('Anime có thể chưa có trên trang hoặc có tên khác. Hãy thử tìm lại với từ khóa đơn giản hơn.');
            }
        } catch {
            alert('Lỗi kết nối, vui lòng thử lại.');
        }
    };

    const displayAnime = async (animeList) => {
        elements.filmContainer.innerHTML = '<h1 class="not-found">Đang tải...</h1>';

        if (!animeList.length) {
            elements.filmContainer.innerHTML = '<h1 class="not-found">Không tìm thấy anime nào.</h1>';
            return;
        }

        const fragment = document.createDocumentFragment();

        animeList.forEach(anime => {
            const card = document.createElement("div");
            card.className = "film-card";
            card.innerHTML = `
                <a class="details-link">
                    <img src="${anime.coverImage.large}" alt="${anime.title.romaji}" class="film-image" loading="lazy">
                    <h2>${anime.title.english || anime.title.romaji}</h2>
                    <p><strong>Tổng số tập:</strong> ${anime.episodes || 'Chưa rõ'}</p>
                    <p><strong>Điểm đánh giá:</strong> ⭐ ${anime.averageScore || 'Chưa đánh giá'}/100</p>
                    <div class="film-overview">${anime.description || 'Không có mô tả.'}</div>
                </a>
                <button class="search-nguonc-button">Tìm kiếm</button>
            `;

            card.querySelector(".search-nguonc-button").addEventListener("click", () => 
                searchOnNguonc(anime.title.english, anime.title.romaji));

            const overview = card.querySelector(".film-overview");
            overview.style.display = "-webkit-box";
            overview.style.webkitBoxOrient = "vertical";
            overview.style.webkitLineClamp = "19";
            overview.style.overflow = "hidden";

            fragment.appendChild(card);
        });

        elements.filmContainer.innerHTML = "";
        elements.filmContainer.appendChild(fragment);
    };

    const updatePaginationControls = (filmCount) => {
        elements.prevBtns.forEach(btn => btn.disabled = currentPage === 1);
        elements.nextBtns.forEach(btn => btn.disabled = filmCount < 12);
        elements.pageInputs.forEach(input => input.value = currentPage);
    };

    const handlePagination = async (action) => {
        if (action === 'next') currentPage++;
        else if (action === 'prev' && currentPage > 1) currentPage--;
        else if (action === 'goTo') {
            const targetPage = parseInt(elements.pageInputs[0].value);
            if (!isNaN(targetPage) && targetPage >= 1) currentPage = targetPage;
            else return alert('⚠️ Vui lòng nhập số trang hợp lệ!');
        }
        await loadTrending();
    };

    const loadTrending = async () => {
        const trendingAnime = await fetchAniListTrending(currentPage);
        await displayAnime(trendingAnime);
        updatePaginationControls(trendingAnime.length);
    };

    elements.prevBtns.forEach(btn => btn.addEventListener("click", () => handlePagination("prev")));
    elements.nextBtns.forEach(btn => btn.addEventListener("click", () => handlePagination("next")));
    elements.goToPageBtns.forEach(btn => btn.addEventListener("click", () => handlePagination("goTo")));

    await loadTrending();
});
E:\Download\Neww Web\public\js\film-details.js:
document.addEventListener('DOMContentLoaded', async () => {
    const params = new URLSearchParams(window.location.search);
    const movieTitle = sessionStorage.getItem('movieTitle'); // Lấy tên phim từ sessionStorage
    const slug = params.get('slug');
    const container = document.getElementById('film-details-container');

    if (!slug) {
        container.innerHTML = '<h1 class="not-found">Không tìm thấy phim.</p>';
        return;
    }
    if (movieTitle) {
        document.title = `${movieTitle}`;
    }

    try {
        const { data } = await axios.get(`https://phim.nguonc.com/api/film/${slug}`);
        const film = data.movie;
        const tmdbRating = await getTmdbRating(film.original_name || film.name);

        const genres = film.category?.['2']?.list?.map(item => ({
            slug: toSlug(item.name),
            name: item.name
        })) || [];

        sessionStorage.setItem('genres', JSON.stringify(genres));
        sessionStorage.setItem('movieTitle', film.name);
        sessionStorage.setItem('movieSlug', film.slug);
        document.title = `${film.name}`;

        container.innerHTML = `
            <img src="${film.thumb_url}" alt="Poster ${film.name}" class="film-image">
            <div class="film-info">
                <h1>${film.name} __ <span class="original-name">${film.original_name || ''}</span></h1>
                <p><strong>Mô tả:</strong> ${film.description || 'Đang cập nhật'}</p>
                <p><strong>Điểm TMDB:</strong> ⭐ ${tmdbRating}/10</p>
                ${film.total_episodes ? `<p><strong>Tổng số tập:</strong> ${film.total_episodes}</p>` : ''}
                ${film.current_episode ? `<p><strong>Tập hiện tại:</strong> ${film.current_episode}</p>` : ''}
                ${film.casts ? `<p><strong>Diễn viên:</strong> ${film.casts}</p>` : ''}
                <p><strong>Thể loại:</strong> 
                    ${genres.map(g => `<a href="genres.html?slug=${g.slug}">${g.name}</a>`).join(', ') || 'Đang cập nhật'}
                </p>
                <h3>Danh sách tập:</h3>
                <ul class="episode-list">
                    ${film.episodes?.[0]?.items.length > 0
                        ? film.episodes[0].items.map(episode => `
                            <li>
                                <a href="watching-movie.html?embed=${encodeURIComponent(episode.embed)}&name=${encodeURIComponent(episode.name)}&slug=${film.slug}">
                                    Tập ${episode.name}
                                </a>
                            </li>
                        `).join('')
                        : '<li>Không có tập nào.</li>'
                    }
                    ${film.episodes?.[0]?.items.length > 30
                        ? `<button id="show-more-episodes" class="show-more-btn">Xem thêm</button>`
                        : ''}
                </ul>
                <h3>Phim có cùng thể loại:</h3>
                <div id="related-films" class="related-films"></div>
            </div>
        `;

        const showMoreButton = document.getElementById('show-more-episodes');
        if (showMoreButton) {
            showMoreButton.addEventListener('click', () => {
                document.querySelector('.episode-list').innerHTML = film.episodes[0].items.map(episode => `
                    <li>
                        <a href="watching-movie.html?embed=${encodeURIComponent(episode.embed)}&name=${encodeURIComponent(episode.name)}&slug=${film.slug}">
                            Tập ${episode.name}
                        </a>
                    </li>
                `).join('');
                showMoreButton.style.display = 'none';
                window.location.href = `watching-movie.html?embed=${encodeURIComponent(film.episodes[0].items[0].embed)}&name=${encodeURIComponent(film.episodes[0].items[0].name)}&slug=${film.slug}`;
            });
        }
        if (film.episodes?.[0]?.items) {
            sessionStorage.setItem('episodes', JSON.stringify(film.episodes[0].items));
        }

        loadRelatedFilms(genres.map(g => g.slug));
    } catch (error) {
        console.error('❌ Lỗi khi tải phim:', error);
        container.innerHTML = '<h1 class="not-found">Không thể tải thông tin phim. Vui lòng thử lại sau.</h1>';
    }
});

async function getTmdbRating(originalName) {
    if (!originalName) return 'N/A';
    try {
        const { data } = await axios.get(`https://api.themoviedb.org/3/search/tv?api_key=fe149ef5184995f0ce33134201fb0c3d&query=${encodeURIComponent(originalName)}`);
        return data.results.length ? data.results[0].vote_average.toFixed(1) : 'Chưa có đánh giá';
    } catch (error) {
        console.error('❌ Lỗi lấy điểm TMDB:', error);
        return 'N/A';
    }
}

async function loadRelatedFilms(categorySlugs) {
    const relatedContainer = document.getElementById('related-films');
    relatedContainer.innerHTML = '<h1 class="not-found">Đang tải phim liên quan...</h1>';
    
    if (!categorySlugs.length) {
        relatedContainer.innerHTML = '<h1 class="not-found">Không có phim liên quan.</h1>';
        return;
    }

    try {
        const responses = await Promise.all(categorySlugs.map(slug => 
            axios.get(`https://phim.nguonc.com/api/films/the-loai/${slug}?page=${Math.floor(Math.random() * 18) + 1}`)
        ));

        const relatedFilms = [...new Map(responses.flatMap(res => res.data.items).map(film => [film.slug, film])).values()].slice(0, 6);
        const ratings = await getTmdbRatings(relatedFilms);

        relatedContainer.innerHTML = relatedFilms.map(film => `
            <div class="related-film-card">
                <a href="film-details.html?slug=${film.slug}">
                    <img src="${film.thumb_url}" alt="${film.name}" class="film-related-image">  
                    <h4>${film.name}</h4>
                    <div class="film-rating"><h4>Điểm TMDB: ⭐ ${ratings[film.slug] || 'N/A'}/10</h4></div>
                </a>
            </div>
        `).join('');
    } catch (error) {
        console.error('❌ Lỗi lấy phim liên quan:', error);
        relatedContainer.innerHTML = '<h1 class="not-found">Không thể tải phim liên quan.</h1>';
    }
}

async function getTmdbRatings(films) {
    const ratings = {};
    await Promise.all(films.map(async (film) => {
        try {
            const { data } = await axios.get(`https://api.themoviedb.org/3/search/tv?api_key=fe149ef5184995f0ce33134201fb0c3d&query=${encodeURIComponent(film.name)}`);
            ratings[film.slug] = data.results.length ? data.results[0].vote_average.toFixed(1) : 'Chưa có';
        } catch (error) {
            console.error(`❌ Lỗi lấy điểm TMDB: ${film.name}`, error);
            ratings[film.slug] = 'N/A';
        }
    }));
    return ratings;
}

function toSlug(name) {
    return name.toLowerCase()
        .normalize('NFD').replace(/[̀-ͯ]/g, '')
        .replace(/đ/g, 'd').replace(/Đ/g, 'D')
        .replace(/\s+/g, '-').replace(/[^a-z0-9\-]/g, '');
}

E:\Download\Neww Web\public\js\genres.js:
window.FilmApp = {
    currentPage: 1,
    tmdbApiKey: "fe149ef5184995f0ce33134201fb0c3d",

    // Lấy tham số URL
    getQueryParam(name) {
        return new URLSearchParams(window.location.search).get(name);
    },

    // Gọi API TMDb để lấy đánh giá
    async getTMDbRating(originalName) {
        if (!originalName) return "N/A";
        try {
            const response = await fetch(`https://api.themoviedb.org/3/search/tv?api_key=${this.tmdbApiKey}&query=${encodeURIComponent(originalName)}`);
            const data = await response.json();
            return data.results.length ? data.results[0].vote_average : "Chưa đánh giá";
        } catch (error) {
            console.error("Lỗi lấy điểm TMDb:", error);
            return "N/A";
        }
    },

    // Gọi API động theo loại dữ liệu
    async fetchMovies(category, slug, page = 1) {
        try {
            const response = await axios.get(`https://phim.nguonc.com/api/films/${category}/${slug}?page=${page}`);
            return response.status === 200 ? response.data.items : [];
        } catch (error) {
            console.error(`Lỗi tải phim (${category} - ${slug}):`, error);
            return [];
        }
    },

    // Hiển thị danh sách phim
    async renderFilms(films) {
        const container = document.getElementById("film-container");
        container.innerHTML = '<h1 class="not-found">⏳ Đang tải dữ liệu...</h1>';

        const filmsWithRatings = await Promise.all(
            films.map(async (film) => {
                const rating = await this.getTMDbRating(film.original_name);
                return { ...film, rating };
            })
        );

        container.innerHTML = filmsWithRatings.length
            ? filmsWithRatings.map((film) => `
                <div class="film-card">
                    <a href="film-details.html?slug=${film.slug}" class="details-link">
                        <img src="${film.thumb_url}" alt="${film.name}" class="film-image">
                        <h2>${film.name}</h2>
                        <p><strong>Tổng số tập:</strong> ${film.total_episodes}</p>
                        <p><strong>Tập hiện tại:</strong> ${film.current_episode}</p>
                        <p><strong>Đạo diễn:</strong> ${film.director}</p>
                        <p><strong>Dàn diễn viên:</strong> ${film.casts}</p>
                        <p><strong>⭐ Đánh giá:</strong> ${film.rating}/10</p>
                    </a>
                </div>
            `).join("")
            : "<p>Không tìm thấy phim nào.</p>";
    },

    // Tải phim theo danh mục
    async loadFilmsByCategory(category, slug) {
        // Fetch the films by category
        const films = await this.fetchMovies(category, slug, this.currentPage);
    
        // Update the page title to reflect the genre name
        document.title = `Phim ${slug}`;
    
        // Render the films and update pagination controls
        this.renderFilms(films);
        this.updatePaginationControls(films.length);
    },    

    // Xử lý tìm kiếm phim
    async searchMovies() {
        const keyword = document.getElementById("search-input").value.trim();
        if (!keyword) return alert("Vui lòng nhập từ khóa.");

        try {
            const response = await axios.get(`https://phim.nguonc.com/api/films/search?keyword=${encodeURIComponent(keyword)}`);
            this.renderFilms(response.data.items || []);
        } catch (error) {
            console.error("Lỗi tìm kiếm phim:", error);
        }
    },

    // Cập nhật điều khiển phân trang
    updatePaginationControls(filmCount) {
        const prevBtns = document.querySelectorAll('#previous, #previous-bottom');
        const nextBtns = document.querySelectorAll('#next, #next-bottom');
        const pageInput = document.querySelector("#pageInput, #pageInput-bottom");

        prevBtns.forEach(btn => btn.disabled = this.currentPage === 1);
        nextBtns.forEach(btn => btn.disabled = filmCount < 10); // Assuming 12 films per page
        pageInput.value = this.currentPage;
    },

    // Xử lý phân trang
    setupPagination() {
        document.addEventListener("click", (event) => {
            if (event.target.matches("#previous, #previous-bottom") && this.currentPage > 1) {
                this.currentPage--;
                this.loadFilmsByCategory("the-loai", this.getQueryParam("slug"));
            } else if (event.target.matches("#next, #next-bottom")) {
                this.currentPage++;
                this.loadFilmsByCategory("the-loai", this.getQueryParam("slug"));
            } else if (event.target.matches("#goToPage, #goToPage-bottom")) {
                const pageInput = document.querySelector("#pageInput, #pageInput-bottom");
                const targetPage = parseInt(pageInput.value);
                if (!isNaN(targetPage) && targetPage > 0) {
                    this.currentPage = targetPage;
                    this.loadFilmsByCategory("the-loai", this.getQueryParam("slug"));
                } else {
                    alert("Vui lòng nhập số trang hợp lệ!");
                }
            }
        });
    },

    // Khởi tạo trang
    init() {
        const category = this.getQueryParam("category") || "the-loai";
        const slug = this.getQueryParam("slug");
        if (slug) this.loadFilmsByCategory(category, slug);
        this.setupPagination();
    },
};

// Chạy ứng dụng khi tải trang
document.addEventListener("DOMContentLoaded", () => window.FilmApp.init());

E:\Download\Neww Web\public\js\scripts.js:
document.addEventListener('DOMContentLoaded', () => {
    let currentPage = 1;
    let isSearching = false;
    let searchKeyword = '';

    const filmContainer = document.getElementById('film-container');
    const searchInput = document.getElementById('search-input');
    const prevBtns = document.querySelectorAll('#previous, #previous-bottom');
    const backToTopButton = document.getElementById('back-to-top');
    const nextBtns = document.querySelectorAll('#next, #next-bottom');
    const goToPageBtns = document.querySelectorAll('#goToPage, #goToPage-bottom');
    const toggleBtn = document.getElementById('toggle-theme-btn');
    const tmdbApiKey = 'fe149ef5184995f0ce33134201fb0c3d';

    const pageInput = document.getElementById('pageInput');  // Get the page input field

    /** 📌 Hàm gọi API lấy danh sách phim **/
    const fetchFilms = async (url) => {
        try {
            const response = await axios.get(url);
            return response.status === 200 ? response.data.items : [];
        } catch (error) {
            console.error("❌ Lỗi khi tải phim:", error);
            return [];
        }
    };

    /** 📌 Hàm lấy điểm TMDB hàng loạt **/
    const getTmdbRatings = async (filmNames) => {
        try {
            const ratings = {};
            await Promise.all(filmNames.map(async (name) => {
                const searchUrl = `https://api.themoviedb.org/3/search/multi?api_key=${tmdbApiKey}&query=${encodeURIComponent(name)}`;
                const response = await axios.get(searchUrl);
                if (response.data.results.length) {
                    ratings[name] = response.data.results[0].vote_average?.toFixed(1) || 'Chưa có đánh giá';
                }
            }));
            return ratings;
        } catch (error) {
            console.error("❌ Lỗi khi lấy điểm TMDB", error);
            return {};
        }
    };

    /** 📌 Hàm tải danh sách phim nhanh hơn **/
    const loadFilms = async (page) => {
        filmContainer.innerHTML = '<h1>⏳ Đang tải phim...</h1>';

        const films = await fetchFilms(`https://phim.nguonc.com/api/films/phim-moi-cap-nhat?page=${page}`);
        if (!films.length) {
            filmContainer.innerHTML = '<h1 class="not-found">⚠️ Không tìm thấy phim nào.</h1>';
            return;
        }

        let filmHTML = films.map(film => `
            <div class="film-card" id="film-${film.slug}">
                <a href="film-details.html?slug=${film.slug}" class="details-link">
                    <img src="${film.thumb_url}" alt="${film.original_name}" class="film-image">
                    <h2>${film.name}</h2>
                    <p><strong>Tổng số tập:</strong> ${film.total_episodes || 'Chưa rõ'}</p>
                    <p><strong>Tập hiện tại:</strong> ${film.current_episode || 'Chưa rõ'}</p>
                    <p><strong>Đạo diễn:</strong> ${film.director || 'Không rõ'}</p>
                    <p><strong>Dàn diễn viên:</strong> ${film.casts || 'Không rõ'}</p>
                    <p><strong>Điểm TMDB:</strong> ⭐<span id="rating-${film.slug}">⏳ Đang cập nhật...</span>/10</p>
                </a>
            </div>
        `).join('');

        filmContainer.innerHTML = filmHTML;

        const filmNames = films.map(film => film.original_name);
        const ratings = await getTmdbRatings(filmNames);

        films.forEach(film => {
            document.getElementById(`rating-${film.slug}`).textContent = ratings[film.original_name] || 'Chưa có đánh giá';
        });

        prevBtns.forEach(btn => btn.disabled = page === 1);
        nextBtns.forEach(btn => btn.disabled = films.length < 10);

        // Set the current page in the page input field
        if (pageInput) {
            pageInput.value = currentPage;
        }
    };

    /** 📌 Hàm điều hướng trang **/
    const handlePagination = (action) => {
        const pageInput = document.getElementById('pageInput');
        if (action === 'next') currentPage++;
        else if (action === 'prev' && currentPage > 1) currentPage--;
        else if (action === 'goTo' && pageInput) {
            const targetPage = parseInt(pageInput.value);
            if (!isNaN(targetPage) && targetPage >= 1) currentPage = targetPage;
            else return alert("⚠️ Vui lòng nhập số trang hợp lệ!");
        }
        if (isSearching) {
            searchMovies(true); // Gọi lại tìm kiếm nhưng giữ nguyên từ khóa
        } else {
            loadFilms(currentPage);
        }
    };

    if (backToTopButton) {
        window.addEventListener('scroll', () => {
            backToTopButton.style.display = window.scrollY > 100 ? 'block' : 'none';
        });

        backToTopButton.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    }

    /** 📌 Hàm bật/tắt chế độ sáng/tối **/

    /** 📌 Cài đặt sự kiện **/
    const setupEventListeners = () => {
        prevBtns.forEach(btn => btn.addEventListener('click', () => handlePagination('prev')));
        nextBtns.forEach(btn => btn.addEventListener('click', () => handlePagination('next')));
        goToPageBtns.forEach(btn => btn.addEventListener('click', () => handlePagination('goTo')));
    };

    /** 📌 Khởi chạy ứng dụng **/
    const init = () => {
        setupEventListeners();
        loadFilms(currentPage);
    };

    init();
});

E:\Download\Neww Web\public\js\search.js:
document.addEventListener('DOMContentLoaded', () => {
    // Initial current page
    let currentPage = 1;
    const searchInput = document.getElementById('search-input');
    const searchButton = document.getElementById('search-button');
    const previousButton = document.getElementById('previous');
    const nextButton = document.getElementById('next');
    const backToTopButton = document.getElementById('back-to-top');
    const pageInput = document.getElementById('pageInput'); // Get the page input element

    const toggleBtn = document.getElementById('toggle-theme-btn');
    const body = document.body;
    
    if (localStorage.getItem('theme') === 'light') {
        body.classList.add('light-theme');
        toggleBtn.textContent = '🌞';
    }
    
    toggleBtn.addEventListener('click', () => {
        body.classList.toggle('light-theme');
        toggleBtn.textContent = body.classList.contains('light-theme') ? '🌞' : '🌙';
        localStorage.setItem('theme', body.classList.contains('light-theme') ? 'light' : 'dark');
    });

    // Xử lý sự kiện tìm kiếm
    function redirectToSearchPage() {
        const keyword = searchInput.value.trim();
        if (!keyword) {
            alert('🔍 Vui lòng nhập từ khóa tìm kiếm.');
            return;
        }
        window.location.href = `search.html?keyword=${encodeURIComponent(keyword)}`;
    }

    // Lấy từ khóa từ URL
    function getQueryParameter(name) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(name);
    }

    // Hiển thị kết quả tìm kiếm
    async function loadSearchResults(page = 1) {
        const keyword = getQueryParameter('keyword');
        const filmContainer = document.getElementById('film-search-container');

        if (!keyword) {
            filmContainer.innerHTML = "<h1>⚠️ Vui lòng nhập từ khóa để tìm kiếm.</h1>";
            return;
        }

        searchInput.value = keyword; // Hiển thị từ khóa trong ô tìm kiếm
        filmContainer.innerHTML = "<h1>⏳ Đang tải kết quả...</h1>";

        try {
            const response = await axios.get(`https://phim.nguonc.com/api/films/search?keyword=${encodeURIComponent(keyword)}&page=${page}`);
            if (response.status !== 200) throw new Error('Không thể kết nối với API.');

            const films = response.data.items;
            filmContainer.innerHTML = ''; // Xóa nội dung cũ

            if (films.length === 0) {
                filmContainer.innerHTML = '<h1 class="not-found">⚠️ Không tìm thấy phim nào phù hợp.</h1>';
                return;
            }

            films.forEach(film => {
                const filmCard = document.createElement('div');
                filmCard.classList.add('film-card');
                filmCard.innerHTML = `
                    <a href="film-details.html?slug=${film.slug}" class="details-link">
                        <img src="${film.thumb_url}" alt="${film.name}" class="film-image">
                        <h2>${film.name}</h2>
                        <p><strong>Tổng số tập:</strong> ${film.total_episodes || 'Chưa có thông tin'}</p>
                        <p><strong>Tập hiện tại:</strong> ${film.current_episode || 'Chưa có thông tin'}</p>
                        <p><strong>Đạo diễn:</strong> ${film.director || 'Không rõ'}</p>
                        <p><strong>Dàn diễn viên:</strong> ${film.casts || 'Không rõ'}</p>
                    </a>
                `;
                filmContainer.appendChild(filmCard);
            });

            // Cập nhật trạng thái phân trang
            previousButton.disabled = page === 1;
            nextButton.disabled = films.length < 10; // Giả sử mỗi trang có 10 phim

            // Set the current page in the page input field
            if (pageInput) {
                pageInput.value = currentPage;
            }

        } catch (error) {
            console.error('❌ Lỗi khi tìm kiếm phim:', error);
            filmContainer.innerHTML = '<h1 class="not-found">❌ Đã xảy ra lỗi khi tải kết quả. Vui lòng thử lại sau.</h1>';
        }
    }

    // Xử lý chuyển trang
    function handlePagination(action) {
        if (action === 'next') currentPage++;
        else if (action === 'prev' && currentPage > 1) currentPage--;

        loadSearchResults(currentPage);
    }

    // 🔝 Xử lý nút "Quay về đầu trang"
    if (backToTopButton) {
        window.addEventListener('scroll', () => {
            backToTopButton.style.display = window.scrollY > 100 ? 'block' : 'none';
        });

        backToTopButton.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    }

    // Gán sự kiện cho tìm kiếm
    if (searchInput) {
        searchInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                redirectToSearchPage();
            }
        });
    }

    if (searchButton) {
        searchButton.addEventListener('click', redirectToSearchPage);
    }

    // Gán sự kiện phân trang
    if (previousButton) previousButton.addEventListener('click', () => handlePagination('prev'));
    if (nextButton) nextButton.addEventListener('click', () => handlePagination('next'));

    // Gọi API khi tải trang
    loadSearchResults(currentPage);
});

E:\Download\Neww Web\public\js\trending.js:
document.addEventListener('DOMContentLoaded', async () => {
    let currentPage = 1;
    const tmdbApiKey = 'fe149ef5184995f0ce33134201fb0c3d';
    const urlParams = new URLSearchParams(window.location.search);
    let currentType = urlParams.get('type') || 'movie'; // Default is 'movie'
    let currentTimeframe = urlParams.get('timeframe') || 'day'; // Default is 'day'

    document.getElementById('trending-films').innerText = `Danh sách ${currentType === 'movie' ? 'phim lẻ' : 'TV Series'} (${currentTimeframe})`;

    const elements = {
        filmContainer: document.getElementById('trending-films'),
        searchInput: document.getElementById('search-input'),
        backToTop: document.getElementById('back-to-top'),
        prevBtns: document.querySelectorAll('#previous, #previous-bottom'),
        nextBtns: document.querySelectorAll('#next, #next-bottom'),
        goToPageBtns: document.querySelectorAll('#goToPage, #goToPage-bottom'),
        pageInput: document.getElementById('pageInput'),
    };

    // API request function with error handling
    const fetchJSON = async (url) => {
        try {
            const response = await fetch(url);
            if (!response.ok) throw new Error(`Lỗi HTTP: ${response.status}`);
            return response.json();
        } catch (error) {
            console.error(`❌ Lỗi khi gọi API: ${url}`, error);
            return null;
        }
    };

    // Fetch movie/TV show details
    const fetchDetails = async (id) => {
        try {
            const [vnData, enData, creditsData] = await Promise.all([
                fetchJSON(`https://api.themoviedb.org/3/${currentType}/${id}?api_key=${tmdbApiKey}&language=vi-VN`),
                fetchJSON(`https://api.themoviedb.org/3/${currentType}/${id}?api_key=${tmdbApiKey}&language=en-US`),
                fetchJSON(`https://api.themoviedb.org/3/${currentType}/${id}/credits?api_key=${tmdbApiKey}&language=en-US`)
            ]);

            return vnData && enData ? {
                nameVN: vnData.title || vnData.name,
                nameEN: enData.title || enData.name,
                episodes: vnData.number_of_episodes || 'Không rõ',
                rating: vnData.vote_average?.toFixed(1) || 'N/A',
                poster: vnData.poster_path ? `https://image.tmdb.org/t/p/w500${vnData.poster_path}` : 'placeholder.jpg',
                cast: creditsData?.cast?.slice(0, 5).map(cast => cast.name).join(', ') || 'Không có sẵn',
                overview: vnData.overview || 'Không có mô tả.',
            } : null;
        } catch (error) {
            console.error(`⚠️ Lỗi khi lấy chi tiết phim ${id}`, error);
            return null;
        }
    };

    // Fetch trending list
    const fetchTrending = async (page = 1) =>
        fetchJSON(`https://api.themoviedb.org/3/trending/${currentType}/${currentTimeframe}?api_key=${tmdbApiKey}&language=vi-VN&page=${page}`);

    // Display movies
    const displayMovies = async (movies) => {
        elements.filmContainer.innerHTML = movies.length ? '' : '<h1 class="not-found">Không tìm thấy phim nào.</h1>';
        const detailsList = await Promise.all(movies.map(movie => fetchDetails(movie.id)));

        detailsList.forEach(details => {
            if (!details) return;

            const filmCard = document.createElement('div');
            filmCard.className = 'film-card';
            filmCard.innerHTML = `
                <a class='details-link'>
                    <img src='${details.poster}' alt='${details.nameVN}' class='film-image'>
                    <h2>${details.nameVN}</h2>
                    <p><strong>Tổng số tập:</strong> ${details.episodes}</p>
                    <p><strong>Diễn viên:</strong> ${details.cast}</p>
                    <p><strong>Điểm đánh giá:</strong> ⭐ ${details.rating}/10</p>
                    <div class='film-overview hidden'>${details.overview}</div>
                </a>
                <button class='search-nguonc-button'>Tìm kiếm</button>
            `;

            filmCard.addEventListener('mouseenter', () => {
                filmCard.querySelector('.film-overview').classList.remove('hidden');
            });
            filmCard.addEventListener('mouseleave', () => {
                filmCard.querySelector('.film-overview').classList.add('hidden');
            });

            const overview = filmCard.querySelector('.film-overview');
            overview.style.display = '-webkit-box';
            overview.style.webkitBoxOrient = 'vertical';
            overview.style.webkitLineClamp = '19';
            overview.style.overflow = 'hidden';

            filmCard.querySelector('.search-nguonc-button').addEventListener('click', () => searchOnNguonc(details.nameEN, details.nameVN));
            elements.filmContainer.appendChild(filmCard);
        });

        elements.prevBtns.forEach(btn => btn.disabled = currentPage === 1);
        elements.nextBtns.forEach(btn => btn.disabled = movies.length < 10);

        // Update page input value
        if (elements.pageInput) {
            elements.pageInput.value = currentPage;
        }
        
        const pageInputs = document.querySelectorAll('#pageInput, #pageInput-bottom');
        pageInputs.forEach(input => input.value = currentPage);        
    };

    // Handle pagination
    const handlePagination = async (action) => {
        if (action === 'next') currentPage++;
        else if (action === 'prev' && currentPage > 1) currentPage--;
        else if (action === 'goTo') {
            const targetPage = parseInt(elements.pageInput.value);
            if (!isNaN(targetPage) && targetPage >= 1) currentPage = targetPage;
            else return alert('⚠️ Vui lòng nhập số trang hợp lệ!');
        }
        await loadTrending();
    };

    // Load trending films
    const loadTrending = async () => {
        const trending = await fetchTrending(currentPage);
        await displayMovies(trending?.results || []);
    };

    // Hàm tìm kiếm trên `nguonc.com`
    const searchOnNguonc = async (englishName, vietnameseName) => {
        const keyword = englishName || vietnameseName;
        if (!keyword) return alert('Không tìm thấy tên phim để tìm kiếm.');
        const data = await fetchJSON(`https://phim.nguonc.com/api/films/search?keyword=${encodeURIComponent(keyword)}`);
        if (data?.items?.length) {
            window.location.href = `search.html?keyword=${encodeURIComponent(keyword)}`;
        } else if (englishName && vietnameseName) {
            console.log(`Không tìm thấy phim "${englishName}", thử lại với "${vietnameseName}"`);
            searchOnNguonc(vietnameseName, '');
        } else {
            alert('Phim có thể chưa có trên trang hoặc có tên khác, hãy thử tìm lại bằng tên khác trên thanh tìm kiếm, bạn hãy thử bỏ số phần đi, ví dụ thay vì Shangri-La Frontier 2nd Season, thì hãy thử Shangri-La Frontier.');
        }
    };

    // Event listeners for pagination buttons
    elements.prevBtns.forEach(btn => btn.addEventListener('click', () => handlePagination('prev')));
    elements.nextBtns.forEach(btn => btn.addEventListener('click', () => handlePagination('next')));
    elements.goToPageBtns.forEach(btn => btn.addEventListener('click', () => handlePagination('goTo')));
    elements.backToTop?.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

    // Load trending films on page load
    await loadTrending();
});

E:\Download\Neww Web\public\js\watching-movie.js:
document.addEventListener('DOMContentLoaded', async () => {
    const params = new URLSearchParams(window.location.search);
    const embedURL = params.get('embed');
    const episodeName = params.get('name');
    const movieSlug = params.get('slug');

    if (!movieSlug) {
        console.error("Không tìm thấy slug trong URL");
        return;
    }

    async function fetchMovieDetails(slug) {
        try {
            const response = await fetch(`https://phim.nguonc.com/api/film/${slug}`);
            const data = await response.json();
            return {
                movieTitle: data.movie?.name || "Không rõ",
                episodes: data.movie?.episodes?.[0]?.items.map(ep => ({
                    name: ep.name.trim(),
                    embed: ep.embed
                })) || []
            };
        } catch (error) {
            console.error("Lỗi khi lấy dữ liệu phim:", error);
            return { movieTitle: "Không rõ", episodes: [] };
        }
    }

    const { movieTitle, episodes } = await fetchMovieDetails(movieSlug);

    if (movieTitle) {
        document.title = `${movieTitle} - Tập ${episodeName}`;
    }

    if (!embedURL || !episodeName || !movieTitle) {
        document.getElementById('video-player-container').innerHTML = '<h1 class="not-found">Không tìm thấy thông tin video.</h1>';
        return;
    }

    const currentIndex = episodes.findIndex(ep => ep.name === episodeName);
    const prevEpisode = episodes[currentIndex - 1] || null;
    const nextEpisode = episodes[currentIndex + 1] || null;

    document.getElementById('video-player-container').innerHTML = `
        <div class="VideoPlayer">
            <a href="film-details.html?slug=${movieSlug}" class="details-link">
                <h5>${movieTitle}</h5>
            </a>
            <h1>Đang phát: Tập ${episodeName}</h1>
            <div id="VideoOption01" class="Video on">
                <iframe width="100%" height="100%" src="${embedURL}" frameborder="0" scrolling="no" allowfullscreen allow="autoplay"></iframe>
            </div>
            <div class="episode-navigation">
                ${prevEpisode ? `<a href="watching-movie.html?embed=${encodeURIComponent(prevEpisode.embed)}&name=${encodeURIComponent(prevEpisode.name)}&slug=${movieSlug}" class="prev-episode">⬅ Tập trước</a>` : ''}
                ${nextEpisode ? `<a href="watching-movie.html?embed=${encodeURIComponent(nextEpisode.embed)}&name=${encodeURIComponent(nextEpisode.name)}&slug=${movieSlug}" class="next-episode">Tập tiếp theo ➡</a>` : ''}
            </div>
        </div>
        <div class="episode-list-container">
            <h3>Danh sách tập:</h3>
            <ul class="episode-list">
                ${episodes.map(ep => `
                    <li>
                        <a href="watching-movie.html?embed=${encodeURIComponent(ep.embed)}&name=${encodeURIComponent(ep.name)}&slug=${movieSlug}" class="${ep.name === episodeName ? 'disabled-episode' : ''}">
                            Tập ${ep.name}
                        </a>
                    </li>
                `).join('')}
            </ul>
        </div>
    `;

    // Nút cuộn lên đầu trang
    window.addEventListener('scroll', () => {
        const backToTopButton = document.getElementById('back-to-top');
        if (backToTopButton) {
            backToTopButton.style.display = window.scrollY > 100 ? 'block' : 'none';
        }
    });

    document.getElementById('back-to-top')?.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
});

E:\Download\Neww Web\public\anime-genres.html:
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xem Phim Online - Thư Viện Phim HD</title>
    <meta name="description" content="Xem phim HD chất lượng cao, cập nhật phim mới nhất mỗi ngày. Thưởng thức phim online miễn phí với phụ đề tiếng Việt.">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <div class="content-wrapper">
    <!-- Thanh điều hướng -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">Trang Chủ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class=""></span>☰
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Phim Trending</a>
                        <ul class="dropdown-menu" aria-labelledby="TrendingDropdown">
                            <button onclick="redirectToTrending('movie', 'day')">Movie\Ngày</button>
                            <button onclick="redirectToTrending('movie', 'week')">Movie\Tuần</button>
                            <button onclick="redirectToTrending('tv', 'day')">TV Series\Ngày</button>
                            <button onclick="redirectToTrending('tv', 'week')">TV Series\Tuần</button>
                            <a href='trending-anime.html' class='trending-link'>Anime Trending</a>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Anime</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown" id="genre-dropdown-menu">
                            <!-- Các nút thể loại sẽ được tạo động ở đây -->
                        </ul>
                    </li>                                                          
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Danh Mục</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">Phim Mới</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'tv-shows')">TV Shows</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-le')">Phim Lẻ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-bo')">Phim Bộ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-dang-chieu')">Phim Đang Chiếu</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="genreDropdown" role="button" data-bs-toggle="dropdown">Thể Loại</a>
                        <ul class="dropdown-menu" aria-labelledby="genreDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hanh-dong')">Hành Động</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phieu-luu')">Phiêu Lưu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hoat-hinh')">Hoạt Hình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-hai')">Hài</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hinh-su')">Hình Sự</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tai-lieu')">Tài Liệu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chinh-kich')">Chính Kịch</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-dinh')">Gia Đình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-tuong')">Giả Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lich-su')">Lịch Sử</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'kinh-di')">Kinh Dị</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-nhac')">Nhạc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'bi-an')">Bí Ẩn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lang-man')">Lãng Mạn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'khoa-hoc-vien-tuong')">Khoa Học Viễn Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gay-can')">Gây Cấn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chien-tranh')">Chiến Tranh</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tam-ly')">Tâm Lý</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tinh-cam')">Tình Cảm</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'co-trang')">Cổ Trang</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'mien-tay')">Miền Tây</a></li>
                            <!-- Thêm các thể loại khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="nationDropdown" role="button" data-bs-toggle="dropdown">Quốc Gia</a>
                        <ul class="dropdown-menu" aria-labelledby="nationDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'au-my')">Âu Mỹ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'trung-quoc')">Trung Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'viet-nam')">Việt Nam</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'nhat-ban')">Nhật Bản</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'han-quoc')">Hàn Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'thai-lan')">Thái Lan</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'an-do')">Ấn Độ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'quoc-gia-khac')">Quốc gia khác</a></li>
                            <!-- Thêm các quốc gia khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="yearDropdown" role="button" data-bs-toggle="dropdown">Năm</a>
                        <ul class="dropdown-menu" aria-labelledby="yearDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2004')">2004</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2005')">2005</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2006')">2006</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2007')">2007</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2008')">2008</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2009')">2009</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2010')">2010</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2011')">2011</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2012')">2012</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2013')">2013</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2014')">2014</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2015')">2015</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2016')">2016</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2017')">2017</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2018')">2018</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2019')">2019</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2020')">2020</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2021')">2021</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2022')">2022</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2023')">2023</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2024')">2024</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">2025</a></li>
                            <!-- Thêm các năm khác tại đây -->
                        </ul>
                    </li>
                </ul>
                <div class="d-flex align-items-center">
                    <input type="text" id="search-input" class="form-control me-2" placeholder="Tìm kiếm..." onkeyup="handleSearchKey(event)">
                    <button id="search-button" class="btn btn-outline-primary" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                    <!-- Nút chuyển đổi chế độ sáng/tối -->
            <button id="toggle-theme-btn" class="btn btn-outline-light ms-3">
                🌙
            </button>
                </div>
            </nav>
                <main class="container mt-4">
                    <div id="sort-options" class="container mt-4">
                        <div class="d-flex align-items-center flex-wrap gap-3 mb-4">
                            <h1 class="mb-0">Sắp Xếp Theo:</h1>
                            <div class="btn-group d-flex flex-wrap justify-content-start" data-toggle="buttons">
                                <button class="btn btn-outline-primary sort-button" data-sort="TITLE_ROMAJI">Tên</button>
                                <button class="btn btn-outline-primary sort-button" data-sort="POPULARITY_DESC">Độ phổ biến</button>
                                <button class="btn btn-outline-primary sort-button" data-sort="SCORE_DESC">Điểm trung bình</button>
                                <button class="btn btn-outline-primary sort-button" data-sort="TRENDING_DESC">Xu hướng</button>
                                <button class="btn btn-outline-primary sort-button" data-sort="FAVOURITES_DESC">Yêu thích</button>
                                <button class="btn btn-outline-primary sort-button" data-sort="START_DATE_DESC">Ngày phát hành</button>
                            </div>
                        </div>                        
                    </div>                      
                    <h1 class="text-center mb-4"> Danh sách phim</h1>
                    <div id="pagination" class="d-flex justify-content-center my-3">
                        <button id="previous" class="btn btn-danger me-2">Trang Trước</button>
                        <input type="number" id="pageInput" class="form-control w-auto" min="1" placeholder="Đang ở trang 1">
                        <button id="goToPage" class="btn btn-primary ms-2">Đi</button>
                        <button id="next" class="btn btn-danger ms-2">Trang Tiếp Theo</button>
                    </div>
                    <h1 class="text-center mb-4"> Danh sách dưới chỉ để tham khảo, để đọc thêm về nội dung phim hay xem phim hãy bấm vào nút tìm kiếm</h1>
                    <ul id="anime-genres">
                        <!-- Danh sách phim sẽ được chèn vào đây -->
                    </ul>
                    <div id="pagination-bottom" class="d-flex justify-content-center my-3">
                        <button id="previous-bottom" class="btn btn-danger me-2">Trang Trước</button>
                        <input type="number" id="pageInput-bottom" class="form-control w-auto" min="1" placeholder="Đang ở trang 1">
                        <button id="goToPage-bottom" class="btn btn-primary ms-2">Đi</button>
                        <button id="next-bottom" class="btn btn-danger ms-2">Trang Tiếp Theo</button>
                    </div>
                    <button id="back-to-top" class="btn btn-secondary position-fixed bottom-0 end-0 m-3">Quay về đầu trang</button>
                </main>
                    <script>
                    function redirectToTrending(type, timeframe) {
                        window.location.href = `trending.html?type=${type}&timeframe=${timeframe}`;
                    }
                    </script>
                    <script>
                        function navigateToCategory(category, slug) {
                            const newUrl = `genres.html?category=${category}&slug=${slug}`;
                            window.location.href = newUrl;
                    
                            if (typeof FilmApp !== 'undefined' && FilmApp.loadFilmsByCategory) {
                                FilmApp.loadFilmsByCategory(category, slug);
                            } else {
                                console.error("⚠️ FilmApp chưa được định nghĩa hoặc loadFilmsByCategory không tồn tại.");
                            }
                        }
                    </script>
    <footer class="text-center py-3 bg-dark text-light">
        <p>&copy; 2025 Phim Mới. Tất cả quyền lợi được bảo lưu.</p>
        <p>Liên hệ: phimhayvclvcl@gmail.com</p>
    </footer>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/anime-genres.js" defer></script>
    <script src="js/search.js" defer></script>
</body>
</html>

E:\Download\Neww Web\public\film-details.html:
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xem Phim Online - Thư Viện Phim HD</title>
    <meta name="description" content="Xem phim HD chất lượng cao, cập nhật phim mới nhất mỗi ngày. Thưởng thức phim online miễn phí với phụ đề tiếng Việt.">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/film-details.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body><div class="content-wrapper">
    <!-- Thanh điều hướng -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">Trang Chủ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class=""></span>☰
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Phim Trending</a>
                        <ul class="dropdown-menu" aria-labelledby="TrendingDropdown">
                            <button onclick="redirectToTrending('movie', 'day')">Movie\Ngày</button>
                            <button onclick="redirectToTrending('movie', 'week')">Movie\Tuần</button>
                            <button onclick="redirectToTrending('tv', 'day')">TV Series\Ngày</button>
                            <button onclick="redirectToTrending('tv', 'week')">TV Series\Tuần</button>
                            <a href='trending-anime.html' class='trending-link'>Anime Trending</a>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Anime</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown" id="genre-dropdown-menu">
                            <!-- Các nút thể loại sẽ được tạo động ở đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Danh Mục</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">Phim Mới</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'tv-shows')">TV Shows</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-le')">Phim Lẻ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-bo')">Phim Bộ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-dang-chieu')">Phim Đang Chiếu</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="genreDropdown" role="button" data-bs-toggle="dropdown">Thể Loại</a>
                        <ul class="dropdown-menu" aria-labelledby="genreDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hanh-dong')">Hành Động</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phieu-luu')">Phiêu Lưu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hoat-hinh')">Hoạt Hình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-hai')">Hài</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hinh-su')">Hình Sự</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tai-lieu')">Tài Liệu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chinh-kich')">Chính Kịch</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-dinh')">Gia Đình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-tuong')">Giả Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lich-su')">Lịch Sử</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'kinh-di')">Kinh Dị</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-nhac')">Nhạc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'bi-an')">Bí Ẩn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lang-man')">Lãng Mạn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'khoa-hoc-vien-tuong')">Khoa Học Viễn Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gay-can')">Gây Cấn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chien-tranh')">Chiến Tranh</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tam-ly')">Tâm Lý</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tinh-cam')">Tình Cảm</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'co-trang')">Cổ Trang</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'mien-tay')">Miền Tây</a></li>
                            <!-- Thêm các thể loại khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="nationDropdown" role="button" data-bs-toggle="dropdown">Quốc Gia</a>
                        <ul class="dropdown-menu" aria-labelledby="nationDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'au-my')">Âu Mỹ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'trung-quoc')">Trung Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'viet-nam')">Việt Nam</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'nhat-ban')">Nhật Bản</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'han-quoc')">Hàn Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'thai-lan')">Thái Lan</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'an-do')">Ấn Độ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'quoc-gia-khac')">Quốc gia khác</a></li>
                            <!-- Thêm các quốc gia khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="yearDropdown" role="button" data-bs-toggle="dropdown">Năm</a>
                        <ul class="dropdown-menu" aria-labelledby="yearDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2004')">2004</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2005')">2005</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2006')">2006</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2007')">2007</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2008')">2008</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2009')">2009</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2010')">2010</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2011')">2011</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2012')">2012</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2013')">2013</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2014')">2014</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2015')">2015</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2016')">2016</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2017')">2017</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2018')">2018</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2019')">2019</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2020')">2020</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2021')">2021</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2022')">2022</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2023')">2023</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2024')">2024</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">2025</a></li>
                            <!-- Thêm các năm khác tại đây -->
                        </ul>
                    </li>
                </ul>
                <div class="d-flex align-items-center">
                    <input type="text" id="search-input" class="form-control me-2" placeholder="Tìm kiếm..." onkeyup="handleSearchKey(event)">
                    <button id="search-button" class="btn btn-outline-primary" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                    <!-- Nút chuyển đổi chế độ sáng/tối -->
            <button id="toggle-theme-btn" class="btn btn-outline-light ms-3">
                🌙
            </button>
                </div>
            </nav>
            <main>
                <section class="film-details">
                    <div id="film-details-container">
                        <!-- Thông tin chi tiết phim và danh mục sẽ hiển thị ở đây -->
                    </div>
                </section>
                <div id="related-films" class="related-films"></div>
                <!-- Nút quay về đầu trang -->
                <button id="back-to-top" class="btn btn-secondary position-fixed bottom-0 end-0 m-3">Quay về đầu trang</button>
            </main>

                <script>
                function redirectToTrending(type, timeframe) {
                    window.location.href = `trending.html?type=${type}&timeframe=${timeframe}`;
                }
                </script>
                <script>
                    function navigateToCategory(category, slug) {
                        const newUrl = `genres.html?category=${category}&slug=${slug}`;
                        window.location.href = newUrl;
                
                        if (typeof FilmApp !== 'undefined' && FilmApp.loadFilmsByCategory) {
                            FilmApp.loadFilmsByCategory(category, slug);
                        } else {
                            console.error("⚠️ FilmApp chưa được định nghĩa hoặc loadFilmsByCategory không tồn tại.");
                        }
                    }
                </script>                

    <footer class="text-center py-3 bg-dark text-light">
        <p>&copy; 2025 Phim Mới. Tất cả quyền lợi được bảo lưu.</p>
        <p>Liên hệ: phimhayvclvcl@gmail.com</p>
    </footer>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/film-details.js" defer></script>
    <script src="js/anime-genres.js"></script>
    <script src="js/search.js"></script>
</body>
</html>

E:\Download\Neww Web\public\genres.html:
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thể Loại</title>
    <meta name="description" content="Xem phim HD chất lượng cao, cập nhật phim mới nhất mỗi ngày. Thưởng thức phim online miễn phí với phụ đề tiếng Việt.">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body><div class="content-wrapper">
    <!-- Thanh điều hướng -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">Trang Chủ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class=""></span>☰
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Phim Trending</a>
                        <ul class="dropdown-menu" aria-labelledby="TrendingDropdown">
                            <button onclick="redirectToTrending('movie', 'day')">Movie\Ngày</button>
                            <button onclick="redirectToTrending('movie', 'week')">Movie\Tuần</button>
                            <button onclick="redirectToTrending('tv', 'day')">TV Series\Ngày</button>
                            <button onclick="redirectToTrending('tv', 'week')">TV Series\Tuần</button>
                            <a href='trending-anime.html' class='trending-link'>Anime Trending</a>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Anime</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown" id="genre-dropdown-menu">
                            <!-- Các nút thể loại sẽ được tạo động ở đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Danh Mục</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">Phim Mới</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'tv-shows')">TV Shows</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-le')">Phim Lẻ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-bo')">Phim Bộ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-dang-chieu')">Phim Đang Chiếu</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="genreDropdown" role="button" data-bs-toggle="dropdown">Thể Loại</a>
                        <ul class="dropdown-menu" aria-labelledby="genreDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hanh-dong')">Hành Động</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phieu-luu')">Phiêu Lưu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hoat-hinh')">Hoạt Hình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-hai')">Hài</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hinh-su')">Hình Sự</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tai-lieu')">Tài Liệu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chinh-kich')">Chính Kịch</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-dinh')">Gia Đình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-tuong')">Giả Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lich-su')">Lịch Sử</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'kinh-di')">Kinh Dị</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-nhac')">Nhạc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'bi-an')">Bí Ẩn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lang-man')">Lãng Mạn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'khoa-hoc-vien-tuong')">Khoa Học Viễn Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gay-can')">Gây Cấn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chien-tranh')">Chiến Tranh</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tam-ly')">Tâm Lý</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tinh-cam')">Tình Cảm</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'co-trang')">Cổ Trang</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'mien-tay')">Miền Tây</a></li>
                            <!-- Thêm các thể loại khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="nationDropdown" role="button" data-bs-toggle="dropdown">Quốc Gia</a>
                        <ul class="dropdown-menu" aria-labelledby="nationDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'au-my')">Âu Mỹ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'trung-quoc')">Trung Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'viet-nam')">Việt Nam</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'nhat-ban')">Nhật Bản</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'han-quoc')">Hàn Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'thai-lan')">Thái Lan</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'an-do')">Ấn Độ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'quoc-gia-khac')">Quốc gia khác</a></li>
                            <!-- Thêm các quốc gia khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="yearDropdown" role="button" data-bs-toggle="dropdown">Năm</a>
                        <ul class="dropdown-menu" aria-labelledby="yearDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2004')">2004</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2005')">2005</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2006')">2006</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2007')">2007</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2008')">2008</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2009')">2009</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2010')">2010</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2011')">2011</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2012')">2012</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2013')">2013</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2014')">2014</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2015')">2015</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2016')">2016</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2017')">2017</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2018')">2018</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2019')">2019</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2020')">2020</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2021')">2021</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2022')">2022</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2023')">2023</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2024')">2024</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">2025</a></li>
                            <!-- Thêm các năm khác tại đây -->
                        </ul>
                    </li>
                </ul>
                <div class="d-flex align-items-center">
                    <input type="text" id="search-input" class="form-control me-2" placeholder="Tìm kiếm..." onkeyup="handleSearchKey(event)">
                    <button id="search-button" class="btn btn-outline-primary" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                    <!-- Nút chuyển đổi chế độ sáng/tối -->
            <button id="toggle-theme-btn" class="btn btn-outline-light ms-3">
                🌙
            </button>
                </div>
            </nav>
                <main class="container mt-4">
                    <h1 class="text-center mb-4">Tất Cả Các Phim</h1>
                    <div id="pagination" class="d-flex justify-content-center my-3">
                        <button id="previous" class="btn btn-danger me-2">Trang Trước</button>
                        <input type="number" id="pageInput" class="form-control w-auto" min="1" placeholder="Đang ở trang 1">
                        <button id="goToPage" class="btn btn-primary ms-2">Đi</button>
                        <button id="next" class="btn btn-danger ms-2">Trang Tiếp Theo</button>
                    </div>
                    <div class="row" id="film-container">
                        <!-- Danh sách phim sẽ được tạo từ JavaScript -->
                    </div>
                    <div id="pagination-bottom" class="d-flex justify-content-center my-3">
                        <button id="previous-bottom" class="btn btn-danger me-2">Trang Trước</button>
                        <input type="number" id="pageInput-bottom" class="form-control w-auto" min="1" placeholder="Đang ở trang 1">
                        <button id="goToPage-bottom" class="btn btn-primary ms-2">Đi</button>
                        <button id="next-bottom" class="btn btn-danger ms-2">Trang Tiếp Theo</button>
                    </div>
                    <button id="back-to-top" class="btn btn-secondary position-fixed bottom-0 end-0 m-3">Quay về đầu trang</button>
                </main>
                <script>
                    function redirectToTrending(type, timeframe) {
                        window.location.href = `trending.html?type=${type}&timeframe=${timeframe}`;
                    }
                    </script>
                    <script>
                        function navigateToCategory(category, slug) {
                            const newUrl = `genres.html?category=${category}&slug=${slug}`;
                            window.location.href = newUrl;
                            FilmApp.loadFilmsByCategory(category, slug);
                        }
                    </script>
    <footer class="text-center py-3 bg-dark text-light">
        <p>&copy; 2025 Phim Mới. Tất cả quyền lợi được bảo lưu.</p>
        <p>Liên hệ: phimhayvclvcl@gmail.com</p>
    </footer>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/genres.js" defer></script> <!-- Liên kết file JS -->
    <script src="js/search.js" defer></script>
    <script src="js/anime-genres.js"></script>
</body>
</html>
E:\Download\Neww Web\public\index.html:
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xem Phim Online - Thư Viện Phim HD</title>
    <meta name="description" content="Xem phim HD chất lượng cao, cập nhật phim mới nhất mỗi ngày. Thưởng thức phim online miễn phí với phụ đề tiếng Việt.">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body><div class="content-wrapper">
    <!-- Thanh điều hướng -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">Trang Chủ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class=""></span>☰
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Phim Trending</a>
                        <ul class="dropdown-menu" aria-labelledby="TrendingDropdown">
                            <button onclick="redirectToTrending('movie', 'day')">Movie\Ngày</button>
                            <button onclick="redirectToTrending('movie', 'week')">Movie\Tuần</button>
                            <button onclick="redirectToTrending('tv', 'day')">TV Series\Ngày</button>
                            <button onclick="redirectToTrending('tv', 'week')">TV Series\Tuần</button>
                            <a href='trending-anime.html' class='trending-link'>Anime Trending</a>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Anime</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown" id="genre-dropdown-menu">
                            <!-- Các nút thể loại sẽ được tạo động ở đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Danh Mục</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">Phim Mới</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'tv-shows')">TV Shows</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-le')">Phim Lẻ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-bo')">Phim Bộ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-dang-chieu')">Phim Đang Chiếu</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="genreDropdown" role="button" data-bs-toggle="dropdown">Thể Loại</a>
                        <ul class="dropdown-menu" aria-labelledby="genreDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hanh-dong')">Hành Động</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phieu-luu')">Phiêu Lưu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hoat-hinh')">Hoạt Hình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-hai')">Hài</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hinh-su')">Hình Sự</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tai-lieu')">Tài Liệu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chinh-kich')">Chính Kịch</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-dinh')">Gia Đình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-tuong')">Giả Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lich-su')">Lịch Sử</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'kinh-di')">Kinh Dị</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-nhac')">Nhạc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'bi-an')">Bí Ẩn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lang-man')">Lãng Mạn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'khoa-hoc-vien-tuong')">Khoa Học Viễn Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gay-can')">Gây Cấn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chien-tranh')">Chiến Tranh</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tam-ly')">Tâm Lý</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tinh-cam')">Tình Cảm</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'co-trang')">Cổ Trang</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'mien-tay')">Miền Tây</a></li>
                            <!-- Thêm các thể loại khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="nationDropdown" role="button" data-bs-toggle="dropdown">Quốc Gia</a>
                        <ul class="dropdown-menu" aria-labelledby="nationDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'au-my')">Âu Mỹ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'trung-quoc')">Trung Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'viet-nam')">Việt Nam</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'nhat-ban')">Nhật Bản</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'han-quoc')">Hàn Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'thai-lan')">Thái Lan</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'an-do')">Ấn Độ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'quoc-gia-khac')">Quốc gia khác</a></li>
                            <!-- Thêm các quốc gia khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="yearDropdown" role="button" data-bs-toggle="dropdown">Năm</a>
                        <ul class="dropdown-menu" aria-labelledby="yearDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2004')">2004</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2005')">2005</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2006')">2006</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2007')">2007</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2008')">2008</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2009')">2009</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2010')">2010</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2011')">2011</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2012')">2012</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2013')">2013</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2014')">2014</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2015')">2015</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2016')">2016</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2017')">2017</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2018')">2018</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2019')">2019</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2020')">2020</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2021')">2021</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2022')">2022</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2023')">2023</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2024')">2024</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">2025</a></li>
                            <!-- Thêm các năm khác tại đây -->
                        </ul>
                    </li>
                </ul>
                <div class="d-flex align-items-center">
                    <input type="text" id="search-input" class="form-control me-2" placeholder="Tìm kiếm..." onkeyup="handleSearchKey(event)">
                    <button id="search-button" class="btn btn-outline-primary" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                    <!-- Nút chuyển đổi chế độ sáng/tối -->
            <button id="toggle-theme-btn" class="btn btn-outline-light ms-3">
                🌙
            </button>
                </div>
            </nav>
                <main class="container mt-4">
                    <h1 class="text-center mb-4">Phim Mới Cập Nhật</h1>
                    <div id="pagination" class="d-flex justify-content-center my-3">
                        <button id="previous" class="btn btn-danger me-2">Trang Trước</button>
                        <input type="number" id="pageInput" class="form-control w-auto" min="1" placeholder="Đang ở trang 1">
                        <button id="goToPage" class="btn btn-primary ms-2">Đi</button>
                        <button id="next" class="btn btn-danger ms-2">Trang Tiếp Theo</button>
                    </div>
                    <div class="row" id="film-container">
                        <!-- Danh sách phim sẽ được tạo từ JavaScript -->
                    </div>
                    <div id="pagination-bottom" class="d-flex justify-content-center my-3">
                        <button id="previous-bottom" class="btn btn-danger me-2">Trang Trước</button>
                        <input type="number" id="pageInput-bottom" class="form-control w-auto" min="1" placeholder="Đang ở trang 1">
                        <button id="goToPage-bottom" class="btn btn-primary ms-2">Đi</button>
                        <button id="next-bottom" class="btn btn-danger ms-2">Trang Tiếp Theo</button>
                    </div>
                    <button id="back-to-top" class="btn btn-secondary position-fixed bottom-0 end-0 m-3">Quay về đầu trang</button>
                </main>

                <script>
                function redirectToTrending(type, timeframe) {
                    window.location.href = `trending.html?type=${type}&timeframe=${timeframe}`;
                }
                </script>
                <script>
                    function navigateToCategory(category, slug) {
                        const newUrl = `genres.html?category=${category}&slug=${slug}`;
                        window.location.href = newUrl;
                
                        if (typeof FilmApp !== 'undefined' && FilmApp.loadFilmsByCategory) {
                            FilmApp.loadFilmsByCategory(category, slug);
                        } else {
                            console.error("⚠️ FilmApp chưa được định nghĩa hoặc loadFilmsByCategory không tồn tại.");
                        }
                    }
                </script>                

    <footer class="text-center py-3 bg-dark text-light">
        <p>&copy; 2025 Phim Mới. Tất cả quyền lợi được bảo lưu.</p>
        <p>Liên hệ: phimhayvclvcl@gmail.com</p>
    </footer>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/scripts.js" defer></script>
    <script src="js/anime-genres.js"></script>
    <script src="js/search.js"></script>
</body>
</html>
E:\Download\Neww Web\public\search.html:
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kết Quả Tìm Được</title>
    <meta name="description" content="Xem phim HD chất lượng cao, cập nhật phim mới nhất mỗi ngày. Thưởng thức phim online miễn phí với phụ đề tiếng Việt.">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body><div class="content-wrapper">
    <!-- Thanh điều hướng -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">Trang Chủ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class=""></span>☰
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Phim Trending</a>
                        <ul class="dropdown-menu" aria-labelledby="TrendingDropdown">
                            <button onclick="redirectToTrending('movie', 'day')">Movie\Ngày</button>
                            <button onclick="redirectToTrending('movie', 'week')">Movie\Tuần</button>
                            <button onclick="redirectToTrending('tv', 'day')">TV Series\Ngày</button>
                            <button onclick="redirectToTrending('tv', 'week')">TV Series\Tuần</button>
                            <a href='trending-anime.html' class='trending-link'>Anime Trending</a>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Anime</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown" id="genre-dropdown-menu">
                            <!-- Các nút thể loại sẽ được tạo động ở đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Danh Mục</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam', '2025')">Phim Mới</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'tv-shows')">TV Shows</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-le')">Phim Lẻ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-bo')">Phim Bộ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-dang-chieu')">Phim Đang Chiếu</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="genreDropdown" role="button" data-bs-toggle="dropdown">Thể Loại</a>
                        <ul class="dropdown-menu" aria-labelledby="genreDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hanh-dong')">Hành Động</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phieu-luu')">Phiêu Lưu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hoat-hinh')">Hoạt Hình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-hai')">Hài</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hinh-su')">Hình Sự</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tai-lieu')">Tài Liệu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chinh-kich')">Chính Kịch</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-dinh')">Gia Đình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-tuong')">Giả Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lich-su')">Lịch Sử</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'kinh-di')">Kinh Dị</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-nhac')">Nhạc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'bi-an')">Bí Ẩn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lang-man')">Lãng Mạn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'khoa-hoc-vien-tuong')">Khoa Học Viễn Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gay-can')">Gây Cấn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chien-tranh')">Chiến Tranh</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tam-ly')">Tâm Lý</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tinh-cam')">Tình Cảm</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'co-trang')">Cổ Trang</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'mien-tay')">Miền Tây</a></li>
                            <!-- Thêm các thể loại khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="nationDropdown" role="button" data-bs-toggle="dropdown">Quốc Gia</a>
                        <ul class="dropdown-menu" aria-labelledby="nationDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'au-my')">Âu Mỹ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'trung-quoc')">Trung Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'viet-nam')">Việt Nam</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'nhat-ban')">Nhật Bản</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'han-quoc')">Hàn Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'thai-lan')">Thái Lan</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'an-do')">Ấn Độ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'quoc-gia-khac')">Quốc gia khác</a></li>
                            <!-- Thêm các quốc gia khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="yearDropdown" role="button" data-bs-toggle="dropdown">Năm</a>
                        <ul class="dropdown-menu" aria-labelledby="yearDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2004')">2004</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2005')">2005</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2006')">2006</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2007')">2007</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2008')">2008</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2009')">2009</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2010')">2010</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2011')">2011</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2012')">2012</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2013')">2013</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2014')">2014</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2015')">2015</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2016')">2016</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2017')">2017</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2018')">2018</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2019')">2019</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2020')">2020</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2021')">2021</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2022')">2022</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2023')">2023</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2024')">2024</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">2025</a></li>
                            <!-- Thêm các năm khác tại đây -->
                        </ul>
                    </li>
                </ul>
                <div class="d-flex align-items-center">
                    <input type="text" id="search-input" class="form-control me-2" placeholder="Tìm kiếm..." onkeyup="handleSearchKey(event)">
                    <button id="search-button" class="btn btn-outline-primary" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                    <!-- Nút chuyển đổi chế độ sáng/tối -->
            <button id="toggle-theme-btn" class="btn btn-outline-light ms-3">
                🌙
            </button>
                </div>
            </nav>
                <main class="container mt-4">
                    <h1 class="text-center mb-4">Phim Mới Cập Nhật</h1>
                    <div class="row" id="film-search-container">
                        <!-- Danh sách phim sẽ được tạo từ JavaScript -->
                    </div>
                    <div id="pagination" class="d-flex justify-content-center my-3">
                        <button id="previous" class="btn btn-danger me-2">Trang Trước</button>
                        <input type="number" id="pageInput" class="form-control w-auto" min="1" placeholder="Đang ở trang 1">
                        <button id="goToPage" class="btn btn-primary ms-2">Đi</button>
                        <button id="next" class="btn btn-danger ms-2">Trang Tiếp Theo</button>
                    </div>
                    <button id="back-to-top" class="btn btn-secondary position-fixed bottom-0 end-0 m-3">Quay về đầu trang</button>
                </main>

                <script>
                    function redirectToTrending(type, timeframe) {
                        window.location.href = `trending.html?type=${type}&timeframe=${timeframe}`;
                    }
                    </script>
                    <script>
                        function navigateToCategory(category, slug) {
                            const newUrl = `genres.html?category=${category}&slug=${slug}`;
                            window.location.href = newUrl;
                    
                            if (typeof FilmApp !== 'undefined' && FilmApp.loadFilmsByCategory) {
                                FilmApp.loadFilmsByCategory(category, slug);
                            } else {
                                console.error("⚠️ FilmApp chưa được định nghĩa hoặc loadFilmsByCategory không tồn tại.");
                            }
                        }
                    </script>
                        
    <footer class="text-center py-3 bg-dark text-light">
        <p>&copy; 2025 Phim Mới. Tất cả quyền lợi được bảo lưu.</p>
        <p>Liên hệ: phimhayvclvcl@gmail.com</p>
    </footer>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/search.js"></script>
    <script src="js/genres.js"></script>
    <script src="js/anime-genres.js"></script>
</body>
</html>

E:\Download\Neww Web\public\trending-anime.html:
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phim Trending</title>
    <meta name="description" content="Xem phim HD chất lượng cao, cập nhật phim mới nhất mỗi ngày. Thưởng thức phim online miễn phí với phụ đề tiếng Việt.">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body><div class="content-wrapper">
    <!-- Thanh điều hướng -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">Trang Chủ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class=""></span>☰
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Phim Trending</a>
                        <ul class="dropdown-menu" aria-labelledby="TrendingDropdown">
                            <button onclick="redirectToTrending('movie', 'day')">Movie\Ngày</button>
                            <button onclick="redirectToTrending('movie', 'week')">Movie\Tuần</button>
                            <button onclick="redirectToTrending('tv', 'day')">TV Series\Ngày</button>
                            <button onclick="redirectToTrending('tv', 'week')">TV Series\Tuần</button>
                            <a href='trending-anime.html' class='trending-link'>Anime Trending</a>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Anime</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown" id="genre-dropdown-menu">
                            <!-- Các nút thể loại sẽ được tạo động ở đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Danh Mục</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">Phim Mới</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'tv-shows')">TV Shows</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-le')">Phim Lẻ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-bo')">Phim Bộ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-dang-chieu')">Phim Đang Chiếu</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="genreDropdown" role="button" data-bs-toggle="dropdown">Thể Loại</a>
                        <ul class="dropdown-menu" aria-labelledby="genreDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hanh-dong')">Hành Động</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phieu-luu')">Phiêu Lưu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hoat-hinh')">Hoạt Hình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-hai')">Hài</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hinh-su')">Hình Sự</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tai-lieu')">Tài Liệu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chinh-kich')">Chính Kịch</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-dinh')">Gia Đình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-tuong')">Giả Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lich-su')">Lịch Sử</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'kinh-di')">Kinh Dị</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-nhac')">Nhạc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'bi-an')">Bí Ẩn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lang-man')">Lãng Mạn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'khoa-hoc-vien-tuong')">Khoa Học Viễn Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gay-can')">Gây Cấn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chien-tranh')">Chiến Tranh</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tam-ly')">Tâm Lý</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tinh-cam')">Tình Cảm</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'co-trang')">Cổ Trang</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'mien-tay')">Miền Tây</a></li>
                            <!-- Thêm các thể loại khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="nationDropdown" role="button" data-bs-toggle="dropdown">Quốc Gia</a>
                        <ul class="dropdown-menu" aria-labelledby="nationDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'au-my')">Âu Mỹ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'trung-quoc')">Trung Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'viet-nam')">Việt Nam</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'nhat-ban')">Nhật Bản</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'han-quoc')">Hàn Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'thai-lan')">Thái Lan</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'an-do')">Ấn Độ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'quoc-gia-khac')">Quốc gia khác</a></li>
                            <!-- Thêm các quốc gia khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="yearDropdown" role="button" data-bs-toggle="dropdown">Năm</a>
                        <ul class="dropdown-menu" aria-labelledby="yearDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2004')">2004</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2005')">2005</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2006')">2006</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2007')">2007</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2008')">2008</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2009')">2009</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2010')">2010</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2011')">2011</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2012')">2012</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2013')">2013</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2014')">2014</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2015')">2015</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2016')">2016</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2017')">2017</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2018')">2018</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2019')">2019</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2020')">2020</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2021')">2021</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2022')">2022</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2023')">2023</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2024')">2024</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">2025</a></li>
                            <!-- Thêm các năm khác tại đây -->
                        </ul>
                    </li>
                </ul>
                <div class="d-flex align-items-center">
                    <input type="text" id="search-input" class="form-control me-2" placeholder="Tìm kiếm..." onkeyup="handleSearchKey(event)">
                    <button id="search-button" class="btn btn-outline-primary" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                    <!-- Nút chuyển đổi chế độ sáng/tối -->
            <button id="toggle-theme-btn" class="btn btn-outline-light ms-3">
                🌙
            </button>
                </div>
            </nav>
                <main class="container mt-4">
                    <h1 class="text-center mb-4"> Danh sách phim</h1>
                    <div id="pagination" class="d-flex justify-content-center my-3">
                        <button id="previous" class="btn btn-danger me-2">Trang Trước</button>
                        <input type="number" id="pageInput" class="form-control w-auto" min="1" placeholder="Đang ở trang 1">
                        <button id="goToPage" class="btn btn-primary ms-2">Đi</button>
                        <button id="next" class="btn btn-danger ms-2">Trang Tiếp Theo</button>
                    </div>
                    <h1 class="text-center mb-4"> Danh sách dưới chỉ để tham khảo, để đọc thêm về nội dung phim hay xem phim hãy bấm vào nút tìm kiếm</h1>
                    <ul id="trending-animes">
                        <!-- Danh sách phim sẽ được chèn vào đây -->
                    </ul>
                    <div id="pagination-bottom" class="d-flex justify-content-center my-3">
                        <button id="previous-bottom" class="btn btn-danger me-2">Trang Trước</button>
                        <input type="number" id="pageInput-bottom" class="form-control w-auto" min="1" placeholder="Đang ở trang 1">
                        <button id="goToPage-bottom" class="btn btn-primary ms-2">Đi</button>
                        <button id="next-bottom" class="btn btn-danger ms-2">Trang Tiếp Theo</button>
                    </div>
                    <button id="back-to-top" class="btn btn-secondary position-fixed bottom-0 end-0 m-3">Quay về đầu trang</button>
                </main>
                    <script>
                    function redirectToTrending(type, timeframe) {
                        window.location.href = `trending.html?type=${type}&timeframe=${timeframe}`;
                    }
                    </script>
                    <script>
                        function navigateToCategory(category, slug) {
                            const newUrl = `genres.html?category=${category}&slug=${slug}`;
                            window.location.href = newUrl;
                    
                            if (typeof FilmApp !== 'undefined' && FilmApp.loadFilmsByCategory) {
                                FilmApp.loadFilmsByCategory(category, slug);
                            } else {
                                console.error("⚠️ FilmApp chưa được định nghĩa hoặc loadFilmsByCategory không tồn tại.");
                            }
                        }
                    </script>
    <footer class="text-center py-3 bg-dark text-light">
        <p>&copy; 2025 Phim Mới. Tất cả quyền lợi được bảo lưu.</p>
        <p>Liên hệ: phimhayvclvcl@gmail.com</p>
    </footer>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/anime-trending.js" defer></script>
    <script src="js/search.js" defer></script>
    <script src="js/anime-genres.js"></script>
</body>
</html>

E:\Download\Neww Web\public\trending.html:
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phim Trending</title>
    <meta name="description" content="Xem phim HD chất lượng cao, cập nhật phim mới nhất mỗi ngày. Thưởng thức phim online miễn phí với phụ đề tiếng Việt.">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body><div class="content-wrapper">
    <!-- Thanh điều hướng -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">Trang Chủ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class=""></span>☰
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Phim Trending</a>
                        <ul class="dropdown-menu" aria-labelledby="TrendingDropdown">
                            <button onclick="redirectToTrending('movie', 'day')">Movie\Ngày</button>
                            <button onclick="redirectToTrending('movie', 'week')">Movie\Tuần</button>
                            <button onclick="redirectToTrending('tv', 'day')">TV Series\Ngày</button>
                            <button onclick="redirectToTrending('tv', 'week')">TV Series\Tuần</button>
                            <a href='trending-anime.html' class='trending-link'>Anime Trending</a>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Anime</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown" id="genre-dropdown-menu">
                            <!-- Các nút thể loại sẽ được tạo động ở đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Danh Mục</a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">Phim Mới</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'tv-shows')">TV Shows</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-le')">Phim Lẻ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-bo')">Phim Bộ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-dang-chieu')">Phim Đang Chiếu</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="genreDropdown" role="button" data-bs-toggle="dropdown">Thể Loại</a>
                        <ul class="dropdown-menu" aria-labelledby="genreDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hanh-dong')">Hành Động</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phieu-luu')">Phiêu Lưu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hoat-hinh')">Hoạt Hình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-hai')">Hài</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hinh-su')">Hình Sự</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tai-lieu')">Tài Liệu</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chinh-kich')">Chính Kịch</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-dinh')">Gia Đình</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-tuong')">Giả Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lich-su')">Lịch Sử</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'kinh-di')">Kinh Dị</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-nhac')">Nhạc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'bi-an')">Bí Ẩn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lang-man')">Lãng Mạn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'khoa-hoc-vien-tuong')">Khoa Học Viễn Tưởng</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gay-can')">Gây Cấn</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chien-tranh')">Chiến Tranh</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tam-ly')">Tâm Lý</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tinh-cam')">Tình Cảm</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'co-trang')">Cổ Trang</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'mien-tay')">Miền Tây</a></li>
                            <!-- Thêm các thể loại khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="nationDropdown" role="button" data-bs-toggle="dropdown">Quốc Gia</a>
                        <ul class="dropdown-menu" aria-labelledby="nationDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'au-my')">Âu Mỹ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'trung-quoc')">Trung Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'viet-nam')">Việt Nam</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'nhat-ban')">Nhật Bản</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'han-quoc')">Hàn Quốc</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'thai-lan')">Thái Lan</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'an-do')">Ấn Độ</a></li>
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'quoc-gia-khac')">Quốc gia khác</a></li>
                            <!-- Thêm các quốc gia khác tại đây -->
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="yearDropdown" role="button" data-bs-toggle="dropdown">Năm</a>
                        <ul class="dropdown-menu" aria-labelledby="yearDropdown">
                            <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2004')">2004</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2005')">2005</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2006')">2006</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2007')">2007</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2008')">2008</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2009')">2009</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2010')">2010</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2011')">2011</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2012')">2012</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2013')">2013</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2014')">2014</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2015')">2015</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2016')">2016</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2017')">2017</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2018')">2018</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2019')">2019</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2020')">2020</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2021')">2021</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2022')">2022</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2023')">2023</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2024')">2024</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">2025</a></li>
                            <!-- Thêm các năm khác tại đây -->
                        </ul>
                    </li>
                </ul>
                <div class="d-flex align-items-center">
                    <input type="text" id="search-input" class="form-control me-2" placeholder="Tìm kiếm..." onkeyup="handleSearchKey(event)">
                    <button id="search-button" class="btn btn-outline-primary" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                    <!-- Nút chuyển đổi chế độ sáng/tối -->
            <button id="toggle-theme-btn" class="btn btn-outline-light ms-3">
                🌙
            </button>
                </div>
            </nav>
                <main class="container mt-4">
                    <h1 class="text-center mb-4"> Danh sách phim</h1>
                    <div id="pagination" class="d-flex justify-content-center my-3">
                        <button id="previous" class="btn btn-danger me-2">Trang Trước</button>
                        <input type="number" id="pageInput" class="form-control w-auto" min="1" placeholder="Đang ở trang 1">
                        <button id="goToPage" class="btn btn-primary ms-2">Đi</button>
                        <button id="next" class="btn btn-danger ms-2">Trang Tiếp Theo</button>
                    </div>
                    <h1 class="text-center mb-4"> Danh sách dưới chỉ để tham khảo, để đọc thêm về nội dung phim hay xem phim hãy bấm vào nút tìm kiếm</h1>
                    <ul id="trending-films">
                        <!-- Danh sách phim sẽ được chèn vào đây -->
                    </ul>
                    <div id="pagination-bottom" class="d-flex justify-content-center my-3">
                        <button id="previous-bottom" class="btn btn-danger me-2">Trang Trước</button>
                        <input type="number" id="pageInput-bottom" class="form-control w-auto" min="1" placeholder="Đang ở trang 1">
                        <button id="goToPage-bottom" class="btn btn-primary ms-2">Đi</button>
                        <button id="next-bottom" class="btn btn-danger ms-2">Trang Tiếp Theo</button>
                    </div>
                    <button id="back-to-top" class="btn btn-secondary position-fixed bottom-0 end-0 m-3">Quay về đầu trang</button>
                </main>
                    <script>
                    function redirectToTrending(type, timeframe) {
                        window.location.href = `trending.html?type=${type}&timeframe=${timeframe}`;
                    }
                    </script>
                    <script>
                        function navigateToCategory(category, slug) {
                            const newUrl = `genres.html?category=${category}&slug=${slug}`;
                            window.location.href = newUrl;
                    
                            if (typeof FilmApp !== 'undefined' && FilmApp.loadFilmsByCategory) {
                                FilmApp.loadFilmsByCategory(category, slug);
                            } else {
                                console.error("⚠️ FilmApp chưa được định nghĩa hoặc loadFilmsByCategory không tồn tại.");
                            }
                        }
                    </script>
    <footer class="text-center py-3 bg-dark text-light">
        <p>&copy; 2025 Phim Mới. Tất cả quyền lợi được bảo lưu.</p>
        <p>Liên hệ: phimhayvclvcl@gmail.com</p>
    </footer>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/trending.js" defer></script>
    <script src="js/search.js" defer></script>
    <script src="js/anime-genres.js"></script>
</body>
</html>

E:\Download\Neww Web\public\watching-movie.html:
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xem Phim Online - Thư Viện Phim HD</title>
    <meta name="description" content="Xem phim HD chất lượng cao, cập nhật phim mới nhất mỗi ngày. Thưởng thức phim online miễn phí với phụ đề tiếng Việt.">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/video.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="js/watching-movie.js" defer></script>
    <script src="js/search.js" defer></script>
    <script src="js/anime-genres.js"></script>
</head>
<body>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const movieTitle = localStorage.getItem('movieTitle'); // Lấy tên phim từ localStorage
    
            if (movieTitle) {
                document.title = `${movieTitle}`;
            }
        });
    </script>    
<div class="content-wrapper">
        <!-- Thanh điều hướng -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="index.html">Trang Chủ</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class=""></span>☰
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Phim Trending</a>
                            <ul class="dropdown-menu" aria-labelledby="TrendingDropdown">
                                <button onclick="redirectToTrending('movie', 'day')">Movie\Ngày</button>
                                <button onclick="redirectToTrending('movie', 'week')">Movie\Tuần</button>
                                <button onclick="redirectToTrending('tv', 'day')">TV Series\Ngày</button>
                                <button onclick="redirectToTrending('tv', 'week')">TV Series\Tuần</button>
                                <a href='trending-anime.html' class='trending-link'>Anime Trending</a>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Anime</a>
                            <ul class="dropdown-menu" aria-labelledby="categoryDropdown" id="genre-dropdown-menu">
                                <!-- Các nút thể loại sẽ được tạo động ở đây -->
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button" data-bs-toggle="dropdown">Danh Mục</a>
                            <ul class="dropdown-menu" aria-labelledby="categoryDropdown">
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">Phim Mới</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'tv-shows')">TV Shows</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-le')">Phim Lẻ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-bo')">Phim Bộ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('danh-sach', 'phim-dang-chieu')">Phim Đang Chiếu</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="genreDropdown" role="button" data-bs-toggle="dropdown">Thể Loại</a>
                            <ul class="dropdown-menu" aria-labelledby="genreDropdown">
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hanh-dong')">Hành Động</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phieu-luu')">Phiêu Lưu</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hoat-hinh')">Hoạt Hình</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-hai')">Hài</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'hinh-su')">Hình Sự</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tai-lieu')">Tài Liệu</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chinh-kich')">Chính Kịch</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-dinh')">Gia Đình</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gia-tuong')">Giả Tưởng</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lich-su')">Lịch Sử</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'kinh-di')">Kinh Dị</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'phim-nhac')">Nhạc</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'bi-an')">Bí Ẩn</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'lang-man')">Lãng Mạn</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'khoa-hoc-vien-tuong')">Khoa Học Viễn Tưởng</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'gay-can')">Gây Cấn</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'chien-tranh')">Chiến Tranh</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tam-ly')">Tâm Lý</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'tinh-cam')">Tình Cảm</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'co-trang')">Cổ Trang</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('the-loai', 'mien-tay')">Miền Tây</a></li>
                                <!-- Thêm các thể loại khác tại đây -->
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="nationDropdown" role="button" data-bs-toggle="dropdown">Quốc Gia</a>
                            <ul class="dropdown-menu" aria-labelledby="nationDropdown">
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'au-my')">Âu Mỹ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'trung-quoc')">Trung Quốc</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'viet-nam')">Việt Nam</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'nhat-ban')">Nhật Bản</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'han-quoc')">Hàn Quốc</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'thai-lan')">Thái Lan</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'an-do')">Ấn Độ</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('quoc-gia', 'quoc-gia-khac')">Quốc gia khác</a></li>
                                <!-- Thêm các quốc gia khác tại đây -->
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="yearDropdown" role="button" data-bs-toggle="dropdown">Năm</a>
                            <ul class="dropdown-menu" aria-labelledby="yearDropdown">
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2004')">2004</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2005')">2005</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2006')">2006</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2007')">2007</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2008')">2008</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2009')">2009</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2010')">2010</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2011')">2011</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2012')">2012</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2013')">2013</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2014')">2014</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2015')">2015</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2016')">2016</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2017')">2017</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2018')">2018</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2019')">2019</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2020')">2020</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2021')">2021</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2022')">2022</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2023')">2023</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2024')">2024</a></li>
                                <li><a class="dropdown-item" href="#" onclick="navigateToCategory('nam-phat-hanh', '2025')">2025</a></li>
                                <!-- Thêm các năm khác tại đây -->
                            </ul>
                        </li>
                    </ul>
                    <div class="d-flex align-items-center">
                        <input type="text" id="search-input" class="form-control me-2" placeholder="Tìm kiếm..." onkeyup="handleSearchKey(event)">
                        <button id="search-button" class="btn btn-outline-primary" type="button">
                            <i class="fas fa-search"></i>
                        </button>
                        <!-- Nút chuyển đổi chế độ sáng/tối -->
                <button id="toggle-theme-btn" class="btn btn-outline-light ms-3">
                    🌙
                </button>
                    </div>
                </nav>
            <div id="video-player-container"></div>
            <div id="episode-list-container"></div>
            <button id="back-to-top" class="btn btn-secondary position-fixed bottom-0 end-0 m-3">Quay về đầu trang</button>
            <script>
                function redirectToTrending(type, timeframe) {
                    window.location.href = `trending.html?type=${type}&timeframe=${timeframe}`;
                }
                </script>
                <script>
                    function navigateToCategory(category, slug) {
                        const newUrl = `genres.html?category=${category}&slug=${slug}`;
                        window.location.href = newUrl;
                
                        if (typeof FilmApp !== 'undefined' && FilmApp.loadFilmsByCategory) {
                            FilmApp.loadFilmsByCategory(category, slug);
                        } else {
                            console.error("⚠️ FilmApp chưa được định nghĩa hoặc loadFilmsByCategory không tồn tại.");
                        }
                    }
                </script>

    <footer class="text-center py-3 bg-dark text-light">
        <p>&copy; 2025 Phim Mới. Tất cả quyền lợi được bảo lưu.</p>
        <p>Liên hệ: phimhayvclvcl@gmail.com</p>
    </footer>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
